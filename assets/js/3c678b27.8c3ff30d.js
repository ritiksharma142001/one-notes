"use strict";(globalThis.webpackChunkes_note=globalThis.webpackChunkes_note||[]).push([[5859],{28453(e,s,n){n.d(s,{R:()=>c,x:()=>d});var r=n(96540);const i={},t=r.createContext(i);function c(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:s},e.children)}},93597(e,s,n){n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"Postgres/contents","title":"Commands","description":"Basic","source":"@site/docs/Postgres/contents.md","sourceDirName":"Postgres","slug":"/Postgres/contents","permalink":"/one-notes/Postgres/contents","draft":false,"unlisted":false,"editUrl":"https://github.com/ritiksharma142001/one-notes/edit/main/docs/Postgres/contents.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Postgres","permalink":"/one-notes/category/postgres"},"next":{"title":"Shortcut","permalink":"/one-notes/category/shortcut"}}');var i=n(74848),t=n(28453);const c={sidebar_position:1},d="Commands",o={},l=[{value:"Basic",id:"basic",level:2},{value:"Delete a Database",id:"delete-a-database",level:3}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"commands",children:"Commands"})}),"\n",(0,i.jsx)(s.h2,{id:"basic",children:"Basic"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["install - ",(0,i.jsx)(s.code,{children:"sudo apt install postgresql"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["check - ",(0,i.jsx)(s.code,{children:"psql --version"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Check if PostgreSQL service is running: ",(0,i.jsx)(s.code,{children:"sudo service postgresql status"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["superuser - ",(0,i.jsx)(s.code,{children:"sudo -i -u postgres"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"psql"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"exit"})," - exit postgres user shell"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"username - postgres"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"password - root"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"postgres=#"})," - inside ",(0,i.jsx)(s.code,{children:"postgresql"})," command line interface"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"This means you're ready to type a new SQL command."}),"\n",(0,i.jsxs)(s.li,{children:["But when you see ",(0,i.jsx)(s.code,{children:"postgres-#"})," means PostgreSQL is waiting for you to finish your SQL command, such as a missing semicolon ",(0,i.jsx)(s.code,{children:"(;)"})," or closing bracket."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"Ctrl + C"})," - to terminate unfinished job"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"\\l"})," - list existing database"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"\\q"})," - exit from psql"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Create a New Database - ",(0,i.jsx)(s.code,{children:"CREATE DATABASE mydb;"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Create a User with Password - ",(0,i.jsx)(s.code,{children:"CREATE USER myuser WITH PASSWORD 'mypassword';"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Give All Access of a DB to a User - ",(0,i.jsx)(s.code,{children:"GRANT ALL PRIVILEGES ON DATABASE mydb TO myuser;"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Connect to Your Database - ",(0,i.jsx)(s.code,{children:"\\c mydb"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["login as postgres and run: ",(0,i.jsx)(s.code,{children:"GRANT ALL PRIVILEGES ON DATABASE mydb TO myuser;"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Or can create both the user and DB like this:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"CREATE USER myuser WITH PASSWORD 'mypassword';\nCREATE DATABASE mydb OWNER myuser;\n"})}),"\n",(0,i.jsx)(s.h3,{id:"delete-a-database",children:"Delete a Database"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["If you're logged in as the user you want to delete, exit: - ",(0,i.jsx)(s.code,{children:"\\q"})]}),"\n",(0,i.jsxs)(s.li,{children:["Reconnect as Superuser ",(0,i.jsx)(s.code,{children:"(postgres)"})]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"sudo -i -u postgres\npsql\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Delete : ",(0,i.jsx)(s.code,{children:"DROP DATABASE mydb;"})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\ud83d\udd34 Note: You can't drop a database you're currently connected to. Use \\c postgres first to switch to another database."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"\\c postgres\nDROP DATABASE mydb;\n"})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);