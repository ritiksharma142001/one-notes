"use strict";(self.webpackChunkes_note=self.webpackChunkes_note||[]).push([[6502],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var t=i(96540);const s={},a=t.createContext(s);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:n},e.children)}},89209:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"advanced-java/0-1/Week-2/2.3","title":"Persistence Layer & JPA","description":"-   Understand entities and repositories.","source":"@site/docs/advanced-java/0-1/Week-2/2.3.md","sourceDirName":"advanced-java/0-1/Week-2","slug":"/advanced-java/0-1/Week-2/2.3","permalink":"/one-notes/advanced-java/0-1/Week-2/2.3","draft":false,"unlisted":false,"editUrl":"https://github.com/ritiksharma142001/one-notes/edit/main/docs/advanced-java/0-1/Week-2/2.3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Presentation Layer","permalink":"/one-notes/advanced-java/0-1/Week-2/2.2"},"next":{"title":"Service Layer","permalink":"/one-notes/advanced-java/0-1/Week-2/2.4"}}');var s=i(74848),a=i(28453);const l={sidebar_position:3},r="Persistence Layer & JPA",o={},d=[{value:"Java Persistence API - JPA",id:"java-persistence-api---jpa",level:2},{value:"Understanding JPA and Databases",id:"understanding-jpa-and-databases",level:3},{value:"What is a Database?",id:"what-is-a-database",level:3},{value:"How Connection Works",id:"how-connection-works",level:3},{value:"Role of Spring Data JPA",id:"role-of-spring-data-jpa",level:3},{value:"What is Hibernate?",id:"what-is-hibernate",level:3},{value:"Benefits of Using Hibernate",id:"benefits-of-using-hibernate",level:3},{value:"Layered Architecture Summary",id:"layered-architecture-summary",level:3},{value:"Practical Setup for the Course",id:"practical-setup-for-the-course",level:3},{value:"Why Use H2 Database?",id:"why-use-h2-database",level:3},{value:"Setting Up Spring Boot with JPA and H2 Database",id:"setting-up-spring-boot-with-jpa-and-h2-database",level:2},{value:"Adding Dependencies in pom.xml",id:"adding-dependencies-in-pomxml",level:3},{value:"Dependency Management",id:"dependency-management",level:3},{value:"Creating the Entity Class",id:"creating-the-entity-class",level:2},{value:"Defining the Entity",id:"defining-the-entity",level:3},{value:"Field Definitions",id:"field-definitions",level:3},{value:"DTO vs Entity Clarification",id:"dto-vs-entity-clarification",level:2},{value:"Purpose of DTO",id:"purpose-of-dto",level:3},{value:"Purpose of Entity",id:"purpose-of-entity",level:3},{value:"Primary Key and ID Generation",id:"primary-key-and-id-generation",level:2},{value:"Defining the Primary Key",id:"defining-the-primary-key",level:3},{value:"Choosing ID Generation Strategy",id:"choosing-id-generation-strategy",level:3},{value:"Repository in Spring Data JPA",id:"repository-in-spring-data-jpa",level:2},{value:"Why Not Use Entity Directly for Operations?",id:"why-not-use-entity-directly-for-operations",level:3},{value:"What Does the Repository Do?",id:"what-does-the-repository-do",level:3},{value:"Creating the Repository",id:"creating-the-repository",level:3},{value:"Syntax Example:",id:"syntax-example",level:3},{value:"Before Spring Data JPA:",id:"before-spring-data-jpa",level:3},{value:"After Spring Data JPA:",id:"after-spring-data-jpa",level:3},{value:"Behind the Scenes:",id:"behind-the-scenes",level:3},{value:"Inherited Methods Include:",id:"inherited-methods-include",level:3},{value:"Custom Query Methods Using Method Naming Convention:",id:"custom-query-methods-using-method-naming-convention",level:3},{value:"Complex Queries (To Be Covered Later):",id:"complex-queries-to-be-covered-later",level:3},{value:"Best Practices - Layered Architecture:",id:"best-practices---layered-architecture",level:3},{value:"Controller Layer \u2013 Dependency Injection and Repository Use",id:"controller-layer--dependency-injection-and-repository-use",level:2},{value:"Setting Up the Controller",id:"setting-up-the-controller",level:3},{value:"Enabling Dependency Injection",id:"enabling-dependency-injection",level:3},{value:"Using Repository Methods in Controller",id:"using-repository-methods-in-controller",level:2},{value:"Get Employee by ID",id:"get-employee-by-id",level:3},{value:"DTO vs Entity in Controller",id:"dto-vs-entity-in-controller",level:3},{value:"Get All Employees",id:"get-all-employees",level:3},{value:"Create a New Employee",id:"create-a-new-employee",level:3},{value:"Spring Boot with H2 Database Configuration and Lombok Integration",id:"spring-boot-with-h2-database-configuration-and-lombok-integration",level:2},{value:"Basic CRUD Operations",id:"basic-crud-operations",level:3},{value:"Using the H2 Database",id:"using-the-h2-database",level:3},{value:"Understanding In-Memory Database",id:"understanding-in-memory-database",level:3},{value:"Creating and Fetching Data",id:"creating-and-fetching-data",level:3},{value:"Fix: Missing Getters, Setters, and Constructors",id:"fix-missing-getters-setters-and-constructors",level:3},{value:"Lombok Integration",id:"lombok-integration",level:3},{value:"Useful Lombok Annotations",id:"useful-lombok-annotations",level:3},{value:"Verifying the Data Flow",id:"verifying-the-data-flow",level:3},{value:"Switching to a File-Based H2 Database",id:"switching-to-a-file-based-h2-database",level:2},{value:"Configuration in <code>application.properties</code>",id:"configuration-in-applicationproperties",level:3},{value:"Replace <code>/path/to/your/database/</code> with your actual directory path.",id:"replace-pathtoyourdatabase-with-your-actual-directory-path",level:3},{value:"Accessing the H2 Console",id:"accessing-the-h2-console",level:3},{value:"Spring Boot - Data Persistence with H2 Database",id:"spring-boot---data-persistence-with-h2-database",level:2},{value:"Connecting to H2 Database:",id:"connecting-to-h2-database",level:3},{value:"Issue on First POST Call:",id:"issue-on-first-post-call",level:3},{value:"Solution \u2013 Changing DDL Auto Configuration:",id:"solution--changing-ddl-auto-configuration",level:3},{value:"Observation:",id:"observation",level:3},{value:"Viewing Data in H2 Console:",id:"viewing-data-in-h2-console",level:3},{value:"Changing DDL Strategy for Data Persistence:",id:"changing-ddl-strategy-for-data-persistence",level:3},{value:"Persistence Location:",id:"persistence-location",level:3},{value:"Entity Annotation Recap:",id:"entity-annotation-recap",level:3},{value:"JPA Repository Overview:",id:"jpa-repository-overview",level:3},{value:"code",id:"code",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"persistence-layer--jpa",children:"Persistence Layer & JPA"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Understand entities and repositories."}),"\n",(0,s.jsx)(n.li,{children:"Learn how to connect a Spring Boot application to a database."}),"\n",(0,s.jsx)(n.li,{children:"Get introduced to JPA (Java Persistence API), now called Jakarta Persistence API."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"java-persistence-api---jpa",children:"Java Persistence API - JPA"}),"\n",(0,s.jsx)(n.h3,{id:"understanding-jpa-and-databases",children:"Understanding JPA and Databases"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JPA is a standard specification used to manage relational data in Java applications."}),"\n",(0,s.jsx)(n.li,{children:"It's now referred to as Jakarta Persistence API, but still abbreviated as JPA."}),"\n",(0,s.jsx)(n.li,{children:"JPA helps in object-relational mapping (ORM) \u2014 converting Java objects to database tables."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"what-is-a-database",children:"What is a Database?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A database is simply a server that stores data on secondary memory."}),"\n",(0,s.jsx)(n.li,{children:"It can be connected to your application using drivers."}),"\n",(0,s.jsx)(n.li,{children:"Popular databases (e.g., MySQL, PostgreSQL) provide drivers for various programming languages like Java, Python, and JavaScript."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"how-connection-works",children:"How Connection Works"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Traditionally, to connect Java to a database:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use JDBC (Java Database Connectivity)."}),"\n",(0,s.jsx)(n.li,{children:"Provide URL, username, and password to connect to the server."}),"\n",(0,s.jsx)(n.li,{children:"Write raw SQL queries to fetch or store data."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"role-of-spring-data-jpa",children:"Role of Spring Data JPA"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Spring Boot Starter Data JPA simplifies this process by:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Auto-configuring JDBC and the database driver."}),"\n",(0,s.jsx)(n.li,{children:"Providing a JPA provider (commonly Hibernate)."}),"\n",(0,s.jsx)(n.li,{children:"Eliminating the need to manually configure connections or write boilerplate SQL."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"what-is-hibernate",children:"What is Hibernate?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate is the default JPA provider in Spring Boot."}),"\n",(0,s.jsx)(n.li,{children:"Other providers include EclipseLink, OpenJPA, etc."}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate handles:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ORM (Object-Relational Mapping)."}),"\n",(0,s.jsx)(n.li,{children:"Conversion of Java objects to database tables."}),"\n",(0,s.jsx)(n.li,{children:"Generating optimized SQL queries."}),"\n",(0,s.jsx)(n.li,{children:"Executing JPQL (Java Persistence Query Language) which is later converted to SQL."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"benefits-of-using-hibernate",children:"Benefits of Using Hibernate"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Developers only need to work with Java objects."}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate handles:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Object-to-table conversion."}),"\n",(0,s.jsx)(n.li,{children:"Executing SQL on the database."}),"\n",(0,s.jsx)(n.li,{children:"Fetching results and mapping them back to Java objects."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"layered-architecture-summary",children:"Layered Architecture Summary"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You can directly use JDBC to interact with databases \u2014 but that involves manual query handling."}),"\n",(0,s.jsx)(n.li,{children:"Using JPA + Hibernate, the process is abstracted and automated."}),"\n",(0,s.jsx)(n.li,{children:"On top of Hibernate, Spring Data JPA adds support for repositories (interfaces) to simplify CRUD operations."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"practical-setup-for-the-course",children:"Practical Setup for the Course"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["To implement all the above concepts, we need:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Data JPA dependency \u2013 to perform persistence operations."}),"\n",(0,s.jsx)(n.li,{children:"A database \u2013 for now, we\u2019ll use an in-memory database called H2."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"why-use-h2-database",children:"Why Use H2 Database?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"H2 is a lightweight, in-memory database used for development and testing."}),"\n",(0,s.jsxs)(n.li,{children:["It:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Emulates a real database."}),"\n",(0,s.jsx)(n.li,{children:"Requires no installation or configuration."}),"\n",(0,s.jsx)(n.li,{children:"Lets us practice all JPA operations without needing to set up MySQL or PostgreSQL."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-spring-boot-with-jpa-and-h2-database",children:"Setting Up Spring Boot with JPA and H2 Database"}),"\n",(0,s.jsx)(n.h3,{id:"adding-dependencies-in-pomxml",children:"Adding Dependencies in pom.xml"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Open the pom.xml file of your Spring Boot project."}),"\n",(0,s.jsxs)(n.li,{children:["Add the following dependencies:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"spring-boot-starter-web"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"spring-boot-starter-data-jpa"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"com.h2database:h2"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Remove the version and scope from the H2 dependency since they are auto-configured via the Spring Boot parent dependency."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"dependency-management",children:"Dependency Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Boot\u2019s parent POM manages versions for commonly used libraries."}),"\n",(0,s.jsx)(n.li,{children:"Therefore, no need to manually set the version for H2."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"creating-the-entity-class",children:"Creating the Entity Class"}),"\n",(0,s.jsx)(n.h3,{id:"defining-the-entity",children:"Defining the Entity"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a class named ",(0,s.jsx)(n.code,{children:"EmployeeEntity"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Annotate the class with ",(0,s.jsx)(n.code,{children:"@Entity"})," to indicate it should be mapped to a database table."]}),"\n",(0,s.jsxs)(n.li,{children:["Optionally use ",(0,s.jsx)(n.code,{children:'@Table(name = "employees")'})," to specify a custom table name."]}),"\n",(0,s.jsxs)(n.li,{children:["If ",(0,s.jsx)(n.code,{children:"@Table"})," is omitted, the table name will default to the class name (",(0,s.jsx)(n.code,{children:"employee_entity"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"field-definitions",children:"Field Definitions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Copy all necessary fields from the DTO class to the Entity class."}),"\n",(0,s.jsxs)(n.li,{children:["This includes fields like ",(0,s.jsx)(n.code,{children:"id"}),", ",(0,s.jsx)(n.code,{children:"name"}),", ",(0,s.jsx)(n.code,{children:"email"}),", etc."]}),"\n",(0,s.jsxs)(n.li,{children:["Though it may seem like code duplication, DTO and Entity serve different purposes:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"DTO: Used for request/response and input validation."}),"\n",(0,s.jsx)(n.li,{children:"Entity: Represents the table schema and includes all persistable fields (including sensitive data like passwords)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"dto-vs-entity-clarification",children:"DTO vs Entity Clarification"}),"\n",(0,s.jsx)(n.h3,{id:"purpose-of-dto",children:"Purpose of DTO"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used to send and receive only necessary and safe data."}),"\n",(0,s.jsx)(n.li,{children:"Can include validation annotations like @NotNull, @Email, etc."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"purpose-of-entity",children:"Purpose of Entity"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Represents the database table."}),"\n",(0,s.jsx)(n.li,{children:"Defines how data is stored, including constraints like uniqueness, indexes, and data types."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"primary-key-and-id-generation",children:"Primary Key and ID Generation"}),"\n",(0,s.jsx)(n.h3,{id:"defining-the-primary-key",children:"Defining the Primary Key"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"@Id"})," to mark the primary key field (usually id)."]}),"\n",(0,s.jsxs)(n.li,{children:["Annotate with ",(0,s.jsx)(n.code,{children:"@GeneratedValue"})," to auto-generate the value."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"choosing-id-generation-strategy",children:"Choosing ID Generation Strategy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"strategy = GenerationType.AUTO"})," for automatic strategy selection."]}),"\n",(0,s.jsxs)(n.li,{children:["This allows Hibernate to choose between ",(0,s.jsx)(n.code,{children:"SEQUENCE"})," and ",(0,s.jsx)(n.code,{children:"IDENTITY"})," based on the database type."]}),"\n",(0,s.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"repository-in-spring-data-jpa",children:"Repository in Spring Data JPA"}),"\n",(0,s.jsx)(n.h3,{id:"why-not-use-entity-directly-for-operations",children:"Why Not Use Entity Directly for Operations?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Performing operations directly on the entity class is not advisable."}),"\n",(0,s.jsx)(n.li,{children:"A separate layer is needed to handle data access operations \u2014 this is where a repository comes in."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"what-does-the-repository-do",children:"What Does the Repository Do?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It handles CRUD operations (Create, Read, Update, Delete) for the entity."}),"\n",(0,s.jsx)(n.li,{children:"It abstracts the data access layer and interacts with the database."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-repository",children:"Creating the Repository"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create an interface named ",(0,s.jsx)(n.code,{children:"EmployeeRepository"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Instead of writing a class and manually implementing methods, define an interface."}),"\n",(0,s.jsxs)(n.li,{children:["This interface will extend ",(0,s.jsx)(n.code,{children:"JpaRepository"}),", provided by Spring Data JPA."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"syntax-example",children:"Syntax Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public interface EmployeeRepository extends JpaRepository<Employee, Long> {\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Employee"})," is the entity class."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Long"})," is the type of the entity's primary key (",(0,s.jsx)(n.code,{children:"id"})," field)."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"before-spring-data-jpa",children:"Before Spring Data JPA:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Developers manually created repository classes."}),"\n",(0,s.jsx)(n.li,{children:"They defined each method for querying the database."}),"\n",(0,s.jsxs)(n.li,{children:["Implementing queries like ",(0,s.jsx)(n.code,{children:"findById()"}),", ",(0,s.jsx)(n.code,{children:"save()"}),", ",(0,s.jsx)(n.code,{children:"delete()"})," required custom code."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"after-spring-data-jpa",children:"After Spring Data JPA:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All basic CRUD methods are auto-generated."}),"\n",(0,s.jsxs)(n.li,{children:["No implementation required \u2014 just extend the ",(0,s.jsx)(n.code,{children:"JpaRepository"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"behind-the-scenes",children:"Behind the Scenes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"JpaRepository"})," is implemented by ",(0,s.jsx)(n.code,{children:"SimpleJpaRepository"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"It provides default implementations for all basic operations."}),"\n",(0,s.jsx)(n.li,{children:"All methods are transactional by default."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"inherited-methods-include",children:"Inherited Methods Include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"save()"}),", ",(0,s.jsx)(n.code,{children:"saveAll()"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"findById()"}),", ",(0,s.jsx)(n.code,{children:"findAll()"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deleteById()"}),", ",(0,s.jsx)(n.code,{children:"deleteAll()"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"count()"}),", etc."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"custom-query-methods-using-method-naming-convention",children:"Custom Query Methods Using Method Naming Convention:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You can define custom queries by method name, without writing SQL or JPQL."}),"\n",(0,s.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"List<Employee> findByName(String name);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Data JPA will auto-generate the query."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"complex-queries-to-be-covered-later",children:"Complex Queries (To Be Covered Later):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Queries like ",(0,s.jsx)(n.code,{children:"findBySalaryGreaterThan(double salary)"})," can be defined similarly."]}),"\n",(0,s.jsx)(n.li,{children:"These will be covered in the next module (custom queries)."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"best-practices---layered-architecture",children:"Best Practices - Layered Architecture:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Do not inject the repository directly into the controller."}),"\n",(0,s.jsxs)(n.li,{children:["Instead, use a service layer in between:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Controller \u2192 Service \u2192 Repository"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"This maintains clean separation of concerns and improves testability."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"controller-layer--dependency-injection-and-repository-use",children:"Controller Layer \u2013 Dependency Injection and Repository Use"}),"\n",(0,s.jsx)(n.h3,{id:"setting-up-the-controller",children:"Setting Up the Controller"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"We navigate to the EmployeeController."}),"\n",(0,s.jsx)(n.li,{children:"The controller depends on EmployeeRepository."}),"\n",(0,s.jsx)(n.li,{children:"We declare:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"private final EmployeeRepository employeeRepository;\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"We use constructor injection:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public EmployeeController(EmployeeRepository employeeRepository) {\n    this.employeeRepository = employeeRepository;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"enabling-dependency-injection",children:"Enabling Dependency Injection"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["This setup will not work unless ",(0,s.jsx)(n.code,{children:"EmployeeRepository"})," is registered as a Spring Bean."]}),"\n",(0,s.jsx)(n.li,{children:"To do that, annotate the repository interface with:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Repository\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Since ",(0,s.jsx)(n.code,{children:"@Repository"})," is a specialization of ",(0,s.jsx)(n.code,{children:"@Component"}),", it will be automatically detected and injected."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"using-repository-methods-in-controller",children:"Using Repository Methods in Controller"}),"\n",(0,s.jsx)(n.h3,{id:"get-employee-by-id",children:"Get Employee by ID"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"employeeRepository.findById(id)\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This method returns:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"Optional<Employee>\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Why Optional?","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Prevents null pointer exceptions."}),"\n",(0,s.jsx)(n.li,{children:"Wraps the result to handle absent values gracefully."}),"\n",(0,s.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"Optional<Employee> optionalEmployee = employeeRepository.findById(id);\nreturn optionalEmployee.orElse(null);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"dto-vs-entity-in-controller",children:"DTO vs Entity in Controller"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The repository returns Entity, but controller should return DTO."}),"\n",(0,s.jsx)(n.li,{children:"For now, we're using the entity directly to simplify."}),"\n",(0,s.jsxs)(n.li,{children:["Note: This is not a recommended practice. You should:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use DTOs in the controller."}),"\n",(0,s.jsx)(n.li,{children:"Map entities to DTOs using a mapping layer (e.g., ModelMapper or manual mapping)."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Later, when the service layer is added, entities and repositories will be removed from the controller."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"get-all-employees",children:"Get All Employees"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public List<Employee> getAllEmployees() {\n    return employeeRepository.findAll();\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"create-a-new-employee",children:"Create a New Employee"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public Employee createEmployee(@RequestBody Employee employee) {\n    return employeeRepository.save(employee);\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["This method:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Saves the employee to the database."}),"\n",(0,s.jsx)(n.li,{children:"Returns the saved employee."}),"\n",(0,s.jsx)(n.li,{children:"Does not return Optional since saving is expected to succeed."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"spring-boot-with-h2-database-configuration-and-lombok-integration",children:"Spring Boot with H2 Database Configuration and Lombok Integration"}),"\n",(0,s.jsx)(n.h3,{id:"basic-crud-operations",children:"Basic CRUD Operations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Three basic methods are implemented:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"createEmployee() \u2013 to add an employee."}),"\n",(0,s.jsx)(n.li,{children:"getAllEmployees() \u2013 to fetch all employees."}),"\n",(0,s.jsx)(n.li,{children:"getEmployeeById() \u2013 to fetch an employee by ID"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"using-the-h2-database",children:"Using the H2 Database"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Boot automatically configures the H2 in-memory database by default."}),"\n",(0,s.jsx)(n.li,{children:"Default configurations (URL, username, password) are auto-assigned."}),"\n",(0,s.jsx)(n.li,{children:"You can run the application directly without any explicit DB configuration, and Spring Boot will set up the H2 database automatically."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"understanding-in-memory-database",children:"Understanding In-Memory Database"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"H2 (in-memory) database is volatile:"}),"\n",(0,s.jsx)(n.li,{children:"It resets every time the application stops."}),"\n",(0,s.jsx)(n.li,{children:"Not suitable for production environments."}),"\n",(0,s.jsx)(n.li,{children:"Ideal for learning and development purposes."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"creating-and-fetching-data",children:"Creating and Fetching Data"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"An employee named Ram is created with a joining date and active status."}),"\n",(0,s.jsx)(n.li,{children:"GET request is made to retrieve data."}),"\n",(0,s.jsx)(n.li,{children:"Data appears incomplete due to missing getters and setters."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"fix-missing-getters-setters-and-constructors",children:"Fix: Missing Getters, Setters, and Constructors"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Problem: Entity fields are private and have no accessors."}),"\n",(0,s.jsxs)(n.li,{children:["Solution:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Instead of writing them manually, use Lombok annotations."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"lombok-integration",children:"Lombok Integration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Add Lombok dependency in pom.xml:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n</dependency>\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Spring Boot\u2019s parent dependency already manages the version, so you can omit ",(0,s.jsx)(n.code,{children:"version"})," and ",(0,s.jsx)(n.code,{children:"scope"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"useful-lombok-annotations",children:"Useful Lombok Annotations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Getter"})," \u2013 Generates getters for all fields."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Setter"})," \u2013 Generates setters."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@AllArgsConstructor"})," \u2013 Generates constructor with all fields."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@NoArgsConstructor"})," \u2013 Generates a no-argument constructor."]}),"\n",(0,s.jsxs)(n.li,{children:["Avoid using ",(0,s.jsx)(n.code,{children:"@EqualsAndHashCode"})," directly in entities if you're working with bidirectional relationships."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"verifying-the-data-flow",children:"Verifying the Data Flow"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After using Lombok, the application successfully:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Saves employee data."}),"\n",(0,s.jsx)(n.li,{children:"Retrieves all employees (e.g., id=1, id=2)."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Data is now persisted properly in the in-memory DB."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"switching-to-a-file-based-h2-database",children:"Switching to a File-Based H2 Database"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In-memory database data is lost on shutdown."}),"\n",(0,s.jsx)(n.li,{children:"File-based H2 database retains data between application restarts."}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"configuration-in-applicationproperties",children:["Configuration in ",(0,s.jsx)(n.code,{children:"application.properties"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Use file-based H2 database instead of in-memory\nspring.datasource.url=jdbc:h2:file:/path/to/your/database/spring-boot-web-tutorial-db\n\n# Set username and password\nspring.datasource.username=anuDB\nspring.datasource.password=Anu123\n\n# Enable H2 Console\nspring.h2.console.enabled=true\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"replace-pathtoyourdatabase-with-your-actual-directory-path",children:["Replace ",(0,s.jsx)(n.code,{children:"/path/to/your/database/"})," with your actual directory path."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Make sure the database name (",(0,s.jsx)(n.code,{children:"spring-boot-web-tutorial-db"}),") is meaningful and relevant to your project."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"accessing-the-h2-console",children:"Accessing the H2 Console"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Run the application and visit:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"http://localhost:8080/h2-console\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In the console:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Enter the same JDBC URL you defined in application.properties."}),"\n",(0,s.jsx)(n.li,{children:"Enter the username and password (anuDB, Anu123)."}),"\n",(0,s.jsx)(n.li,{children:"Click Connect to view and manage the database tables."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"spring-boot---data-persistence-with-h2-database",children:"Spring Boot - Data Persistence with H2 Database"}),"\n",(0,s.jsx)(n.h3,{id:"connecting-to-h2-database",children:"Connecting to H2 Database:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Copied the JDBC URL from H2 console and pasted it into the connection setup."}),"\n",(0,s.jsxs)(n.li,{children:["Used the credentials:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Username: anuDB"}),"\n",(0,s.jsx)(n.li,{children:"Password: Anu123"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Successfully connected to the database."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"issue-on-first-post-call",children:"Issue on First POST Call:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Encountered an internal server error:\nError: ",(0,s.jsx)(n.code,{children:"employee_sequence"})," not found."]}),"\n",(0,s.jsxs)(n.li,{children:["Reason: The ",(0,s.jsx)(n.code,{children:"@GeneratedValue"})," strategy for the ",(0,s.jsx)(n.code,{children:"id"})," field in the ",(0,s.jsx)(n.code,{children:"Employee"})," entity expects a sequence table which doesn\u2019t exist."]}),"\n",(0,s.jsx)(n.li,{children:"This issue occurs because the database is pre-created and doesn\u2019t allow Spring Boot to auto-generate schema."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"solution--changing-ddl-auto-configuration",children:"Solution \u2013 Changing DDL Auto Configuration:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In application.properties, added:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"spring.jpa.hibernate.ddl-auto=create\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This instructs Spring Boot to create the schema every time the application starts."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"observation",children:"Observation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After updating the DDL property and restarting the app, the ",(0,s.jsx)(n.code,{children:"employee_sequence"})," table and other schema were generated."]}),"\n",(0,s.jsx)(n.li,{children:'Successfully inserted data into the table (e.g., employee named "Ram").'}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"viewing-data-in-h2-console",children:"Viewing Data in H2 Console:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After re-connecting with the credentials, verified:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"employee"})," table contains inserted records."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"employee_sequence"})," table was created."]}),"\n",(0,s.jsxs)(n.li,{children:["Used ",(0,s.jsx)(n.code,{children:"SELECT * FROM employee;"})," to view the data."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"changing-ddl-strategy-for-data-persistence",children:"Changing DDL Strategy for Data Persistence:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"After the initial creation, changed the DDL property to:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"spring.jpa.hibernate.ddl-auto=update\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This prevents the table from being dropped on application restart."}),"\n",(0,s.jsx)(n.li,{children:"Now, even after closing and re-running the app, existing data is retained."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"persistence-location",children:"Persistence Location:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Data is stored in the file system."}),"\n",(0,s.jsx)(n.li,{children:"The H2 database file path can be checked locally where the data persists."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"entity-annotation-recap",children:"Entity Annotation Recap:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Entity"}),": Marks a class as a JPA entity representing a database table."]}),"\n",(0,s.jsx)(n.li,{children:"Hibernate handles object-relational mapping (ORM) behind the scenes."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"jpa-repository-overview",children:"JPA Repository Overview:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Interface provides built-in CRUD methods like:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"save()"}),", ",(0,s.jsx)(n.code,{children:"findAll()"}),", ",(0,s.jsx)(n.code,{children:"findById()"}),", ",(0,s.jsx)(n.code,{children:"deleteById()"})," etc."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Supports writing custom queries, which will be covered in the next module."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"code",children:"code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u251c\u2500\u2500 SpringBootWebApplication.java\n\u251c\u2500\u2500 configs\n\u251c\u2500\u2500 controllers\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeController.java\n\u251c\u2500\u2500 dto\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeDTO.java\n\u251c\u2500\u2500 entities\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeEntity.java\n\u251c\u2500\u2500 repositories\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeRepository.java\n\u251c\u2500\u2500 services\n\u2514\u2500\u2500 utils\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-application.properties",children:"# ===============================\n# Spring Boot Application Name\n# ===============================\nspring.application.name=springBootWeb\n\nspring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:file:/Users/ritik/Documents/db\nspring.datasource.username=ritik\nspring.datasource.password=ritik\nspring.jpa.hibernate.ddl-auto=update\n\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'package com.example.springBootWeb.springBootWeb.entities;\n\nimport jakarta.persistence.*;\nimport lombok.*;\n\nimport java.time.LocalDate;\n\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = "employees")\npublic class EmployeeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    private String email;\n    private Integer age;\n    private LocalDate dateOfJoining;\n    private Boolean isActive;\n}\n\n\x3c!-- https://mvnrepository.com/artifact/com.h2database/h2 --\x3e\n\t\t<dependency>\n\t\t\t<groupId>com.h2database</groupId>\n\t\t\t<artifactId>h2</artifactId>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t\t<groupId>org.projectlombok</groupId>\n\t\t\t<artifactId>lombok</artifactId>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-data-jpa</artifactId>\n\t\t</dependency>\n\npackage com.example.springBootWeb.springBootWeb.controllers;\n\nimport com.example.springBootWeb.springBootWeb.dto.EmployeeDTO;\nimport com.example.springBootWeb.springBootWeb.entities.EmployeeEntity;\nimport com.example.springBootWeb.springBootWeb.repositories.EmployeeRepository;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDate;\nimport java.util.List;\n\n@RestController\n@RequestMapping(path = "/employees")\npublic class EmployeeController {\n\n//    @GetMapping(path = "/getSecretMessage")\n//    public String getMySuperSecretMessage() {\n//        return "Secret message: asdfal@#$DASD";\n//    }\n\n\n    private final EmployeeRepository employeeRepository;\n\n    public EmployeeController(EmployeeRepository employeeRepository) {\n        this.employeeRepository = employeeRepository;\n    }\n\n    @GetMapping(path = "/{employeeId}")\n    public EmployeeEntity getEmployeeById(@PathVariable(name = "employeeId") Long id) {\n        return employeeRepository.findById(id).orElse(null);\n    }\n\n    @GetMapping\n    public List<EmployeeEntity> getAllEmployees(@RequestParam(required = false, name = "inputAge") Integer age,\n                                                @RequestParam(required = false) String sortBy) {\n        return employeeRepository.findAll();\n    }\n\n    @PostMapping\n    public EmployeeEntity createNewEmployee(@RequestBody EmployeeEntity inputEmployee) {\n        return employeeRepository.save(inputEmployee);\n    }\n\n    @PutMapping String updateEmployeeById() {\n        return "Hello from Put";\n    }\n\n}\n\n\npackage com.example.springBootWeb.springBootWeb.repositories;\n\nimport com.example.springBootWeb.springBootWeb.entities.EmployeeEntity;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository<EmployeeEntity, Long> {\n\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);