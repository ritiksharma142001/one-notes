"use strict";(self.webpackChunkes_note=self.webpackChunkes_note||[]).push([[8482],{22179:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"advanced-java/0-1/Week-2/2.6","title":"Input Validation","description":"Introduction to Input Validation in Spring Boot","source":"@site/docs/advanced-java/0-1/Week-2/2.6.md","sourceDirName":"advanced-java/0-1/Week-2","slug":"/advanced-java/0-1/Week-2/2.6","permalink":"/one-notes/advanced-java/0-1/Week-2/2.6","draft":false,"unlisted":false,"editUrl":"https://github.com/ritiksharma142001/one-notes/edit/main/docs/advanced-java/0-1/Week-2/2.6.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Service Layer","permalink":"/one-notes/advanced-java/0-1/Week-2/2.4"},"next":{"title":"Exception Handling In Spring Boot MVC","permalink":"/one-notes/advanced-java/0-1/Week-2/2.7"}}');var a=i(74848),t=i(28453);const s={sidebar_position:6},o="Input Validation",r={},d=[{value:"Introduction to Input Validation in Spring Boot",id:"introduction-to-input-validation-in-spring-boot",level:2},{value:"Overview of CRUD Operations",id:"overview-of-crud-operations",level:3},{value:"Need for Input Validation",id:"need-for-input-validation",level:3},{value:"Why Validation is Important",id:"why-validation-is-important",level:3},{value:"Interception at Controller Level",id:"interception-at-controller-level",level:3},{value:"Validation Strategy",id:"validation-strategy",level:3},{value:"Spring Boot Validation Support",id:"spring-boot-validation-support",level:3},{value:"Steps to Enable Validation",id:"steps-to-enable-validation",level:3},{value:"Validating the DTO",id:"validating-the-dto",level:3},{value:"Input Validation in Spring Boot",id:"input-validation-in-spring-boot",level:2},{value:"Common Validation Annotations",id:"common-validation-annotations",level:3},{value:"Applying Validation on DTO Fields",id:"applying-validation-on-dto-fields",level:3},{value:"Dependency for Validation",id:"dependency-for-validation",level:3},{value:"Enabling Validation in Controller",id:"enabling-validation-in-controller",level:3},{value:"Behavior Before and After Validation",id:"behavior-before-and-after-validation",level:3},{value:"Validation Output",id:"validation-output",level:3},{value:"Handling Error Messages",id:"handling-error-messages",level:3},{value:"Validation Success Example",id:"validation-success-example",level:3},{value:"Java Bean Validation Annotations",id:"java-bean-validation-annotations",level:2},{value:"@NotNull",id:"notnull",level:3},{value:"Enable Validation in Controller",id:"enable-validation-in-controller",level:3},{value:"Validation Error Response",id:"validation-error-response",level:3},{value:"@NotEmpty",id:"notempty",level:3},{value:"@NotBlank",id:"notblank",level:3},{value:"@Size",id:"size",level:3},{value:"@Email",id:"email",level:3},{value:"@Max",id:"max",level:3},{value:"@Min",id:"min",level:3},{value:"@Size",id:"size-1",level:3},{value:"@Pattern",id:"pattern",level:3},{value:"@NotNull / @NotBlank",id:"notnull--notblank",level:3},{value:"@Email",id:"email-1",level:3},{value:"@Positive",id:"positive",level:3},{value:"@NotNull",id:"notnull-1",level:3},{value:"@Positive / @PositiveOrZero",id:"positive--positiveorzero",level:3},{value:"@Past, @PastOrPresent, @Future, @FutureOrPresent",id:"past-pastorpresent-future-futureorpresent",level:3},{value:"@Digits(integer = X, fraction = Y)",id:"digitsinteger--x-fraction--y",level:3},{value:"@DecimalMin and @DecimalMax \u2013 For Decimal Values",id:"decimalmin-and-decimalmax--for-decimal-values",level:3},{value:"@AssertTrue and @AssertFalse \u2013 For Booleans",id:"asserttrue-and-assertfalse--for-booleans",level:3},{value:"@Valid \u2013 For Nested Objects",id:"valid--for-nested-objects",level:3},{value:"Why and How to Create Custom Validation Annotations in Java (Spring Boot)",id:"why-and-how-to-create-custom-validation-annotations-in-java-spring-boot",level:2},{value:"Why Custom Annotations?",id:"why-custom-annotations",level:3},{value:"How Built-in Annotations Are Defined",id:"how-built-in-annotations-are-defined",level:3},{value:"They include:",id:"they-include",level:3},{value:"Retention Policies:",id:"retention-policies",level:3},{value:"Anatomy of a Validation Annotation:",id:"anatomy-of-a-validation-annotation",level:3},{value:"Example Use Case for Custom Annotation:",id:"example-use-case-for-custom-annotation",level:3},{value:"Creating a Custom Annotation to Validate Employee Role",id:"creating-a-custom-annotation-to-validate-employee-role",level:2},{value:"Commenting Existing Annotation",id:"commenting-existing-annotation",level:2},{value:"Create Custom Annotation Package",id:"create-custom-annotation-package",level:3},{value:"Define the Custom Annotation Interface",id:"define-the-custom-annotation-interface",level:3},{value:"Add Annotation Metadata (Message, Groups, Payload)",id:"add-annotation-metadata-message-groups-payload",level:3},{value:"Create the Validator Class",id:"create-the-validator-class",level:3},{value:"Implement the Validation Logic",id:"implement-the-validation-logic",level:3},{value:"Link Annotation with Validator",id:"link-annotation-with-validator",level:3},{value:"Usage",id:"usage",level:3},{value:"Custom Validation in Spring Boot",id:"custom-validation-in-spring-boot",level:2},{value:"Homework Task Given:",id:"homework-task-given",level:3},{value:"Custom Annotation Usage:",id:"custom-annotation-usage",level:3},{value:"Validation Behavior:",id:"validation-behavior",level:3},{value:"Successful Validation:",id:"successful-validation",level:3},{value:"How Custom Validation Works:",id:"how-custom-validation-works",level:3},{value:"Using <code>@Valid</code>:",id:"using-valid",level:3},{value:"Limitation Noted:",id:"limitation-noted",level:3},{value:"Next Steps (Upcoming Class):",id:"next-steps-upcoming-class",level:3},{value:"code",id:"code",level:2},{value:"Body (Raw \u2192 JSON)",id:"body-raw--json",level:3},{value:"Successful Response Example (HTTP 200 or 201)",id:"successful-response-example-http-200-or-201",level:3},{value:"Test Case: Invalid Data (Trigger All Validations)",id:"test-case-invalid-data-trigger-all-validations",level:3},{value:"Expected Response: HTTP 400 Bad Request",id:"expected-response-http-400-bad-request",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"input-validation",children:"Input Validation"})}),"\n",(0,a.jsx)(n.h2,{id:"introduction-to-input-validation-in-spring-boot",children:"Introduction to Input Validation in Spring Boot"}),"\n",(0,a.jsx)(n.h3,{id:"overview-of-crud-operations",children:"Overview of CRUD Operations"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"So far, we have covered how CRUD (Create, Read, Update, Delete) operations work in REST APIs."}),"\n",(0,a.jsx)(n.li,{children:"We learned how to create, read, update, and delete data in a database through REST endpoints."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"need-for-input-validation",children:"Need for Input Validation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Next, we focus on validating input data."}),"\n",(0,a.jsx)(n.li,{children:"Input validation ensures that users send correct and meaningful data to the server."}),"\n",(0,a.jsxs)(n.li,{children:["For example:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The email field must contain a valid email address."}),"\n",(0,a.jsx)(n.li,{children:"The date of birth must be a past date."}),"\n",(0,a.jsx)(n.li,{children:"Other custom validations may be required depending on business logic."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"why-validation-is-important",children:"Why Validation is Important"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Without validation, users can send any data."}),"\n",(0,a.jsx)(n.li,{children:"For instance, a random string in the email field would still get accepted and stored in the database."}),"\n",(0,a.jsx)(n.li,{children:"We want to prevent such invalid inputs from reaching the database."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"interception-at-controller-level",children:"Interception at Controller Level"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ideally, invalid data should be caught before reaching the service layer."}),"\n",(0,a.jsx)(n.li,{children:"The controller should intercept and validate incoming requests."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"validation-strategy",children:"Validation Strategy"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The controller receives the request body as a DTO (Data Transfer Object)."}),"\n",(0,a.jsx)(n.li,{children:"We want to validate this DTO before the controller passes it to the service layer."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"spring-boot-validation-support",children:"Spring Boot Validation Support"}),"\n",(0,a.jsxs)(n.p,{children:["-Spring Boot provides an in-built library for input validation:\n",(0,a.jsx)(n.code,{children:"spring-boot-starter-validation"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"steps-to-enable-validation",children:"Steps to Enable Validation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Go to your pom.xml file."}),"\n",(0,a.jsx)(n.li,{children:"Add the dependency:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-validation</artifactId>\n</dependency>\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Refresh your Maven project to download the necessary jars."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"validating-the-dto",children:"Validating the DTO"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["The controller accepts input as an ",(0,a.jsx)(n.code,{children:"EmployeeDTO"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["We need to add validation annotations (like ",(0,a.jsx)(n.code,{children:"@Email"}),", ",(0,a.jsx)(n.code,{children:"@NotNull"}),", ",(0,a.jsx)(n.code,{children:"@Past"}),", etc.) on DTO fields."]}),"\n",(0,a.jsx)(n.li,{children:"This ensures that invalid DTOs are rejected automatically, even before they reach the service layer."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"input-validation-in-spring-boot",children:"Input Validation in Spring Boot"}),"\n",(0,a.jsx)(n.h3,{id:"common-validation-annotations",children:"Common Validation Annotations"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Spring Boot (via Jakarta Validation) provides multiple annotations to validate input fields:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"@NotNull"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"@NotEmpty"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"@NotBlank"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"@Size"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Max"}),", ",(0,a.jsx)(n.code,{children:"@Min"})]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"@Email"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"@Pattern"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"These annotations help enforce constraints on incoming request data."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"applying-validation-on-dto-fields",children:"Applying Validation on DTO Fields"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["For example, if you want to ensure that the ",(0,a.jsx)(n.code,{children:"name"})," field is mandatory:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@NotNull(message = "Required field in employee: name")\nprivate String name;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["This annotation ensures the field is not ",(0,a.jsx)(n.code,{children:"null"}),", and returns a custom error message if validation fails."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"dependency-for-validation",children:"Dependency for Validation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Make sure the following dependency is added in ",(0,a.jsx)(n.code,{children:"pom.xml"}),":"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-validation</artifactId>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"enabling-validation-in-controller",children:"Enabling Validation in Controller"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Merely annotating the DTO fields isn\u2019t enough."}),"\n",(0,a.jsxs)(n.li,{children:["In the controller, annotate the DTO parameter with ",(0,a.jsx)(n.code,{children:"@Valid"})," to trigger validation:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@PostMapping("/employees")\npublic ResponseEntity<EmployeeDTO> createEmployee(@Valid @RequestBody EmployeeDTO employeeDTO) {\n    ...\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Valid"})," ensures Spring Boot validates the incoming request before executing the method logic."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"behavior-before-and-after-validation",children:"Behavior Before and After Validation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Before adding ",(0,a.jsx)(n.code,{children:"@Valid"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Requests with invalid or missing fields (like ",(0,a.jsx)(n.code,{children:"name = null"}),") are accepted and persisted."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["After adding ",(0,a.jsx)(n.code,{children:"@Valid"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Such requests are rejected with HTTP 400 (Bad Request) and appropriate validation messages."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"validation-output",children:"Validation Output"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["When validation fails:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The controller method is not executed."}),"\n",(0,a.jsxs)(n.li,{children:["A validation error response is returned, typically with HTTP status ",(0,a.jsx)(n.code,{children:"400"}),"."]}),"\n",(0,a.jsx)(n.li,{children:'The response includes the message defined in the annotation (e.g., "Required field in employee: name").'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"handling-error-messages",children:"Handling Error Messages"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"As of now, the error message is visible in the response body but not structured clearly."}),"\n",(0,a.jsx)(n.li,{children:"Proper formatting and customization of validation error responses (e.g., showing field names and messages) will be addressed in the next session on exception handling."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"validation-success-example",children:"Validation Success Example"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"When a valid name is provided, the request proceeds successfully, and the employee is created."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "name": "John Doe",\n  "email": "john@example.com"\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"This would pass validation and proceed to the service layer."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"java-bean-validation-annotations",children:"Java Bean Validation Annotations"}),"\n",(0,a.jsx)(n.h3,{id:"notnull",children:"@NotNull"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the annotated field is not null."}),"\n",(0,a.jsx)(n.li,{children:"Commonly used when a field must not be missing in the request."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@NotNull(message = "Name is required")\nprivate String name;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Without adding ",(0,a.jsx)(n.code,{children:"@Valid"})," in the controller, the validation won't work."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"enable-validation-in-controller",children:"Enable Validation in Controller"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.code,{children:"@Valid"})," on the request body to activate validation:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@PostMapping("/employee")\npublic ResponseEntity<EmployeeDto> createEmployee(@Valid @RequestBody EmployeeDto employeeDto) {\n    ...\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"validation-error-response",children:"Validation Error Response"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["If a field is missing or null (with ",(0,a.jsx)(n.code,{children:"@NotNull"}),"), the API returns HTTP 400 - Bad Request."]}),"\n",(0,a.jsxs)(n.li,{children:["Example message: ",(0,a.jsx)(n.code,{children:"Required field in Employee: name"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"notempty",children:"@NotEmpty"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the field is not null and not empty (size > 0)."}),"\n",(0,a.jsx)(n.li,{children:"Useful for Collections, Strings, Arrays."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@NotEmpty(message = "Employee name cannot be empty")\nprivate String name;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"notblank",children:"@NotBlank"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the string is not null and not blank after trimming."}),"\n",(0,a.jsx)(n.li,{children:"Best suited for String fields."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@NotBlank(message = "Employee name cannot be blank")\nprivate String name;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Prevents cases where user submits ",(0,a.jsx)(n.code,{children:'" "'})," as input."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"size",children:"@Size"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Used to validate the length of strings, arrays, collections, etc."}),"\n",(0,a.jsx)(n.li,{children:"You can define min and max length constraints."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Size(min = 3, max = 10, message = "Number of characters in name should be in the range 3 to 10")\nprivate String name;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["If a name like ",(0,a.jsx)(n.code,{children:'"An"'})," is passed, it will fail this validation."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"email",children:"@Email"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the field is a valid email format."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Email(message = "Email should be a valid email")\nprivate String email;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Valid example: ",(0,a.jsx)(n.code,{children:"user@example.com"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Invalid: ",(0,a.jsx)(n.code,{children:"anu@"})," or just ",(0,a.jsx)(n.code,{children:"anu"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"max",children:"@Max"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the annotated element does not exceed a maximum value."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Max(value = 80, message = "Age cannot be greater than 80")\nprivate int age;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"If age exceeds 80, validation fails with the custom message."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"min",children:"@Min"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the annotated element is not less than a specified value."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Min(value = 18, message = "Age of employee cannot be less than 18")\nprivate int age;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Prevents input like ",(0,a.jsx)(n.code,{children:"age = 2"})," (e.g., a toddler) from being accepted."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"size-1",children:"@Size"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Used with String, arrays, or collections to specify minimum and/or maximum length/size."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Size(min = 3, max = 20, message = "Name must be between 3 and 20 characters")\nprivate String name;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"pattern",children:"@Pattern"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Validates a ",(0,a.jsx)(n.code,{children:"String"})," field against a regular expression."]}),"\n",(0,a.jsx)(n.li,{children:'Example (allow only "admin" or "user"):'}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@Pattern(regexp = \"^(admin|user)$\", message = \"Role of employee can either be 'admin' or 'user'\")\nprivate String role;\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Starts with ",(0,a.jsx)(n.code,{children:"^"})," and ends with ",(0,a.jsx)(n.code,{children:"$"})," to ensure exact match."]}),"\n",(0,a.jsx)(n.li,{children:"Can test and verify regex in IntelliJ using the Check Regular Expression utility."}),"\n",(0,a.jsx)(n.li,{children:'If input is "users", "Admin1", etc., validation will fail.'}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"notnull--notblank",children:"@NotNull / @NotBlank"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the field is not null or not empty (not just whitespace)."}),"\n",(0,a.jsx)(n.li,{children:"Examples:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@NotBlank(message = "Role of employee cannot be blank")\nprivate String role;\n\n@NotBlank(message = "Email cannot be blank")\nprivate String email;\n\n@NotNull(message = "Age must be provided")\nprivate Integer age;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"email-1",children:"@Email"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Validates that a given ",(0,a.jsx)(n.code,{children:"String"})," is a valid email address."]}),"\n",(0,a.jsxs)(n.li,{children:["Can be combined with ",(0,a.jsx)(n.code,{children:"@NotBlank"})," to ensure it\u2019s provided."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Email(message = "Invalid email format")\n@NotBlank(message = "Email cannot be blank")\nprivate String email;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"positive",children:"@Positive"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensures the field holds a positive number (greater than 0)."}),"\n",(0,a.jsx)(n.li,{children:"Suitable for fields like salary, quantity, etc."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Positive(message = "Salary must be a positive number")\nprivate Double salary;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"notnull-1",children:"@NotNull"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Used on: Fields like Integer salary"}),"\n",(0,a.jsx)(n.li,{children:"Purpose: Ensures the field is not null."}),"\n",(0,a.jsx)(n.li,{children:'Custom Message: "Salary of employee should not be null"'}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@NotNull(message = "Salary of employee should not be null")\nprivate Integer salary;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"positive--positiveorzero",children:"@Positive / @PositiveOrZero"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Used on: Numeric fields"}),"\n",(0,a.jsxs)(n.li,{children:["Purpose:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Positive"}),": Must be > 0"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@PositiveOrZero"}),": Must be \u2265 0"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Custom Message: ",(0,a.jsx)(n.code,{children:'"Salary of employee should be positive"'})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Positive(message = "Salary of employee should be positive")\nprivate Integer salary;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"past-pastorpresent-future-futureorpresent",children:"@Past, @PastOrPresent, @Future, @FutureOrPresent"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Used on: ",(0,a.jsx)(n.code,{children:"LocalDate"}),", ",(0,a.jsx)(n.code,{children:"Date"}),", or ",(0,a.jsx)(n.code,{children:"Calendar"})," fields like ",(0,a.jsx)(n.code,{children:"dateOfJoining"})]}),"\n",(0,a.jsxs)(n.li,{children:["Purpose:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Past"}),": Date must be in the past"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@PastOrPresent"}),": Date must be in the past or today"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Future"}),": Date must be in the future"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@FutureOrPresent"}),": Date must be today or in the future"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Custom Message: ",(0,a.jsx)(n.code,{children:'"Date of joining field in employee cannot be in the future"'})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@PastOrPresent(message = "Date of joining field in employee cannot be in the future")\nprivate LocalDate dateOfJoining;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"digitsinteger--x-fraction--y",children:"@Digits(integer = X, fraction = Y)"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Used on: ",(0,a.jsx)(n.code,{children:"Double"}),", ",(0,a.jsx)(n.code,{children:"BigDecimal"}),", or numeric types"]}),"\n",(0,a.jsxs)(n.li,{children:["Purpose: Restricts number of digits before and after the decimal","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Example: ",(0,a.jsx)(n.code,{children:"@Digits(integer = 6, fraction = 2)"})," \u2192 allows up to 999999.99"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Custom Message: ",(0,a.jsx)(n.code,{children:'"Salary can be in the form XXXXXX.XX only"'})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Digits(integer = 6, fraction = 2, message = "Salary must be in the format XXXXXX.XX")\nprivate Double salary;\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class EmployeeDTO {\n\n    @NotNull(message = "Salary of employee should not be null")\n    @Positive(message = "Salary of employee should be positive")\n    @Digits(integer = 6, fraction = 2, message = "Salary must be in the format XXXXXX.XX")\n    private Double salary;\n\n    @PastOrPresent(message = "Date of joining cannot be in the future")\n    private LocalDate dateOfJoining;\n\n    // Other fields, getters, setters\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"decimalmin-and-decimalmax--for-decimal-values",children:"@DecimalMin and @DecimalMax \u2013 For Decimal Values"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Use these when validating floating-point numbers, like ",(0,a.jsx)(n.code,{children:"double"}),", ",(0,a.jsx)(n.code,{children:"BigDecimal"}),", etc."]}),"\n",(0,a.jsx)(n.li,{children:"You must pass values as Strings."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@DecimalMin(value = "100.50", message = "Salary must be at least \u20b9100.50")\n@DecimalMax(value = "99999.99", message = "Salary must be less than \u20b999999.99")\nprivate double salary;\n'})}),"\n",(0,a.jsx)(n.p,{children:"This ensures that:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Minimum salary allowed: ",(0,a.jsx)(n.code,{children:"100.50"})]}),"\n",(0,a.jsxs)(n.li,{children:["Maximum salary allowed: ",(0,a.jsx)(n.code,{children:"99999.99"})]}),"\n",(0,a.jsxs)(n.li,{children:["Common mistake:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["You shouldn't use ",(0,a.jsx)(n.code,{children:"@Min/@Max"})," with double values because they only accept ",(0,a.jsx)(n.code,{children:"long"})," values."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"asserttrue-and-assertfalse--for-booleans",children:"@AssertTrue and @AssertFalse \u2013 For Booleans"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Used to enforce conditions on boolean fields."}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@AssertTrue(message = "Employee should be active")\nprivate boolean isActive;\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"This means isActive must be true, else validation will fail."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"valid--for-nested-objects",children:"@Valid \u2013 For Nested Objects"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"If you have objects inside objects (like DTOs containing other DTOs), and you want to validate their fields too:"}),"\n",(0,a.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public class EmployeeDTO {\n    @Valid\n    private DepartmentDTO department;\n}\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"This triggers validation on DepartmentDTO fields recursively."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"why-and-how-to-create-custom-validation-annotations-in-java-spring-boot",children:"Why and How to Create Custom Validation Annotations in Java (Spring Boot)"}),"\n",(0,a.jsx)(n.h3,{id:"why-custom-annotations",children:"Why Custom Annotations?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Custom validation annotations are useful when:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Built-in annotations (",(0,a.jsx)(n.code,{children:"@Min"}),", ",(0,a.jsx)(n.code,{children:"@Max"}),", ",(0,a.jsx)(n.code,{children:"@Pattern"}),", etc.) are not sufficient."]}),"\n",(0,a.jsx)(n.li,{children:"You want to apply complex or domain-specific validation logic (e.g., checking if a number is prime)."}),"\n",(0,a.jsx)(n.li,{children:"You want to reuse validation logic across multiple entities without duplicating code"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"how-built-in-annotations-are-defined",children:"How Built-in Annotations Are Defined"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"All standard validation annotations are defined as:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@interface AnnotationName { ... }\n"})}),"\n",(0,a.jsx)(n.h3,{id:"they-include",children:"They include:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Constraint"}),": Indicates this is a validation annotation."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Target"}),": Specifies where the annotation can be applied (e.g., FIELD, METHOD, PARAMETER)."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"@Retention"}),": Specifies how long the annotation is retained (e.g., SOURCE, CLASS, RUNTIME)."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"retention-policies",children:"Retention Policies:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"SOURCE"}),": Discarded by the compiler; used only in source code (like comments)."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"CLASS"}),": Recorded in .class files by the compiler but ignored at runtime by the JVM."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"RUNTIME"}),": Retained at runtime and can be accessed via reflection (used for validations)."]}),"\n",(0,a.jsxs)(n.li,{children:["For validations, use ",(0,a.jsx)(n.code,{children:"@Retention(RetentionPolicy.RUNTIME)"})," so that annotations can be processed during runtime."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"anatomy-of-a-validation-annotation",children:"Anatomy of a Validation Annotation:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A custom annotation includes:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'String message() default "default error message";\nClass<?>[] groups() default {};\nClass<? extends Payload>[] payload() default {};\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"message"}),": Default message if validation fails."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"groups"}),": Used for grouping constraints."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"payload"}),": Carries metadata information (rarely used)."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"example-use-case-for-custom-annotation",children:"Example Use Case for Custom Annotation:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'Suppose you want to validate a field like role where only "ADMIN" or "USER" are valid values.'}),"\n",(0,a.jsx)(n.li,{children:"You could use:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Pattern(regexp = "ADMIN|USER")\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"This works for simple cases."}),"\n",(0,a.jsx)(n.li,{children:"But for more complex validations (e.g., external DB lookup, business logic), define a custom annotation and validator."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-custom-annotation-to-validate-employee-role",children:"Creating a Custom Annotation to Validate Employee Role"}),"\n",(0,a.jsx)(n.h2,{id:"commenting-existing-annotation",children:"Commenting Existing Annotation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Comment out the default ",(0,a.jsx)(n.code,{children:"@Pattern"})," annotation used for validating the role field."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"create-custom-annotation-package",children:"Create Custom Annotation Package"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Create a new package named ",(0,a.jsx)(n.code,{children:"annotation"})," to organize all custom annotations."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"define-the-custom-annotation-interface",children:"Define the Custom Annotation Interface"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Create an interface named ",(0,a.jsx)(n.code,{children:"EmployeeRoleValidation"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.code,{children:"@Retention(RetentionPolicy.RUNTIME)"})," to retain the annotation at runtime."]}),"\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.code,{children:"@Target({ElementType.FIELD, ElementType.PARAMETER})"})," to allow the annotation to be used on fields and parameters."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"add-annotation-metadata-message-groups-payload",children:"Add Annotation Metadata (Message, Groups, Payload)"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Add the following attributes:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'String message() default "Role must be either USER or ADMIN";\nClass<?>[] groups() default {};\nClass<? extends Payload>[] payload() default {};\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"These are standard components required for validation annotations. You can explore their purpose in detail, but for now, they can be reused as-is."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"create-the-validator-class",children:"Create the Validator Class"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Create a class named ",(0,a.jsx)(n.code,{children:"EmployeeRoleValidator"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Implement the ",(0,a.jsx)(n.code,{children:"ConstraintValidator<EmployeeRoleValidation, String>"})," interface."]}),"\n",(0,a.jsxs)(n.li,{children:["Implement the ",(0,a.jsx)(n.code,{children:"isValid()"})," method which checks whether the input role is valid."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"implement-the-validation-logic",children:"Implement the Validation Logic"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public boolean isValid(String inputRole, ConstraintValidatorContext context) {\n    List<String> roles = List.of("USER", "ADMIN");\n    return roles.contains(inputRole);\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Extendable: You can add more roles like ",(0,a.jsx)(n.code,{children:"MANAGER"}),", ",(0,a.jsx)(n.code,{children:"HR"}),", etc., to make it scalable without modifying regex patterns."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"link-annotation-with-validator",children:"Link Annotation with Validator"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Use the ",(0,a.jsx)(n.code,{children:"@Constraint(validatedBy = EmployeeRoleValidator.class)"})," annotation on your custom annotation interface to connect it with the validator logic."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Now, you can use your custom ",(0,a.jsx)(n.code,{children:"@EmployeeRoleValidation"})," annotation directly on any String field, like:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@EmployeeRoleValidation\nprivate String role;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"custom-validation-in-spring-boot",children:"Custom Validation in Spring Boot"}),"\n",(0,a.jsx)(n.h3,{id:"homework-task-given",children:"Homework Task Given:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Implement a custom annotation that checks whether a given integer is a prime number."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"custom-annotation-usage",children:"Custom Annotation Usage:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["A custom annotation ",(0,a.jsx)(n.code,{children:"@EmployeeRoleValidation"})," is applied on the role field instead of the standard ",(0,a.jsx)(n.code,{children:"@Pattern"}),"."]}),"\n",(0,a.jsx)(n.li,{children:'The message inside the annotation defines:\n"Role of employee can either be USER or ADMIN."'}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"validation-behavior",children:"Validation Behavior:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'If invalid data is passed (e.g., role = "users"), a 400 Bad Request is returned.'}),"\n",(0,a.jsxs)(n.li,{children:["All validation errors are shown together. For example:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Invalid role"}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"isActive = false"})," triggers another error"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Fixing one invalid field (e.g., setting ",(0,a.jsx)(n.code,{children:"isActive = true"}),") narrows down the errors to just the remaining invalid fields."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"successful-validation",children:"Successful Validation:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["If all values are valid (e.g., ",(0,a.jsx)(n.code,{children:"role = admin"})," and ",(0,a.jsx)(n.code,{children:"isActive = true"}),"), the request is successfully processed."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"how-custom-validation-works",children:"How Custom Validation Works:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Create a custom annotation with ",(0,a.jsx)(n.code,{children:"@Constraint"})," and ",(0,a.jsx)(n.code,{children:"@Target"}),", ",(0,a.jsx)(n.code,{children:"@Retention"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Implement the ",(0,a.jsx)(n.code,{children:"ConstraintValidator"})," interface."]}),"\n",(0,a.jsxs)(n.li,{children:["Override the ",(0,a.jsx)(n.code,{children:"isValid()"})," method to implement custom logic."]}),"\n",(0,a.jsxs)(n.li,{children:["If ",(0,a.jsx)(n.code,{children:"isValid()"})," returns true, input is accepted; otherwise, it's rejected."]}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"using-valid",children:["Using ",(0,a.jsx)(n.code,{children:"@Valid"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Add ",(0,a.jsx)(n.code,{children:"@Valid"})," on fields or method parameters to trigger validation."]}),"\n",(0,a.jsxs)(n.li,{children:["Example: Apply ",(0,a.jsx)(n.code,{children:"@Valid"})," on the Employee DTO in POST and PUT endpoints."]}),"\n",(0,a.jsxs)(n.li,{children:["For ",(0,a.jsx)(n.code,{children:"PATCH"})," (partial updates), validation is handled manually since the input is a map of fields."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"limitation-noted",children:"Limitation Noted:"}),"\n",(0,a.jsx)(n.p,{children:"When multiple fields are invalid, all errors are returned together.\nThe error messages can be overwhelming or unclear to the end user."}),"\n",(0,a.jsx)(n.h3,{id:"next-steps-upcoming-class",children:"Next Steps (Upcoming Class):"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Improve exception handling."}),"\n",(0,a.jsxs)(n.li,{children:["Handle ",(0,a.jsx)(n.code,{children:"MethodArgumentNotValidException"})," to:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Structure error responses better."}),"\n",(0,a.jsx)(n.li,{children:"Show field-specific error messages clearly."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"code",children:"code"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'\u251c\u2500\u2500 SpringBootWebApplication.java\n\u251c\u2500\u2500 annotations\n\u2502\xa0\xa0 \u251c\u2500\u2500 EmployeeRoleValidation.java\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeRoleValidator.java\n\u251c\u2500\u2500 configs\n\u2502\xa0\xa0 \u2514\u2500\u2500 MapperConfig.java\n\u251c\u2500\u2500 controllers\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeController.java\n\u251c\u2500\u2500 dto\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeDTO.java\n\u251c\u2500\u2500 entities\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeEntity.java\n\u251c\u2500\u2500 repositories\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeRepository.java\n\u251c\u2500\u2500 services\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeService.java\n\u2514\u2500\u2500 utils\n\npackage com.example.springBootWeb.springBootWeb.annotations;\n\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Constraint(validatedBy = {EmployeeRoleValidator.class})\npublic @interface EmployeeRoleValidation {\n    String message() default "Role of Employee can either be USER or ADMIN";\n\n    Class<?>[] groups() default {};\n\n    Class<? extends Payload>[] payload() default {};\n}\n\n\npackage com.example.springBootWeb.springBootWeb.annotations;\n\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\nimport java.util.List;\n\npublic class EmployeeRoleValidator implements ConstraintValidator<EmployeeRoleValidation, String> {\n\n    @Override\n    public boolean isValid(String inputRole, ConstraintValidatorContext constraintValidatorContext) {\n        List<String> roles = List.of("USER", "ADMIN");\n        return roles.contains(inputRole);\n    }\n}\n\npackage com.example.springBootWeb.springBootWeb.controllers;\n\nimport com.example.springBootWeb.springBootWeb.dto.EmployeeDTO;\nimport com.example.springBootWeb.springBootWeb.entities.EmployeeEntity;\nimport com.example.springBootWeb.springBootWeb.repositories.EmployeeRepository;\nimport com.example.springBootWeb.springBootWeb.services.EmployeeService;\nimport jakarta.validation.Valid;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(path = "/employees")\npublic class EmployeeController {\n\n//    @GetMapping(path = "/getSecretMessage")\n//    public String getMySuperSecretMessage() {\n//        return "Secret message: asdfal@#$DASD";\n//    }\n\n\n    private final EmployeeService employeeService;\n\n    public EmployeeController(EmployeeService employeeService) {\n        this.employeeService = employeeService;\n    }\n\n    @GetMapping(path = "/{employeeId}")\n    public ResponseEntity<EmployeeDTO> getEmployeeById(@PathVariable(name = "employeeId") Long id) {\n        Optional<EmployeeDTO> employeeDTO = employeeService.getEmployeeById(id);\n        return employeeDTO\n                .map(employeeDTO1 -> ResponseEntity.ok(employeeDTO1))\n                .orElse(ResponseEntity.notFound().build());\n    }\n\n    @GetMapping\n    public ResponseEntity<List<EmployeeDTO>> getAllEmployees(@RequestParam(required = false, name = "inputAge") Integer age,\n                                                             @RequestParam(required = false) String sortBy) {\n        return ResponseEntity.ok(employeeService.getAllEmployees());\n    }\n\n    @PostMapping\n    public ResponseEntity<EmployeeDTO> createNewEmployee(@RequestBody @Valid EmployeeDTO inputEmployee) {\n        EmployeeDTO savedEmployee = employeeService.createNewEmployee(inputEmployee);\n        return new ResponseEntity<>(savedEmployee, HttpStatus.CREATED);\n    }\n\n\n    @PutMapping(path = "/{employeeId}")\n    public ResponseEntity<EmployeeDTO> updateEmployeeById(@RequestBody @Valid EmployeeDTO employeeDTO, @PathVariable Long employeeId) {\n        return ResponseEntity.ok(employeeService.updateEmployeeById(employeeId, employeeDTO));\n    }\n\n    @DeleteMapping(path = "/{employeeId}")\n    public ResponseEntity<Boolean> deleteEmployeeById(@PathVariable Long employeeId) {\n        boolean gotDeleted = employeeService.deleteEmployeeById(employeeId);\n        if (gotDeleted) return ResponseEntity.ok(true);\n        return ResponseEntity.notFound().build();\n    }\n\n    @PatchMapping(path = "/{employeeId}")\n    public ResponseEntity<EmployeeDTO> updatePartialEmployeeById(@RequestBody Map<String, Object> updates,\n                                                                 @PathVariable Long employeeId) {\n        EmployeeDTO employeeDTO = employeeService.updatePartialEmployeeById(employeeId, updates);\n        if (employeeDTO == null) return ResponseEntity.notFound().build();\n        return ResponseEntity.ok(employeeDTO);\n    }\n\n}\n\npackage com.example.springBootWeb.springBootWeb.dto;\n\nimport com.example.springBootWeb.springBootWeb.annotations.EmployeeRoleValidation;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.constraints.NotNull;\n\n\nimport java.time.LocalDate;\n\nimport jakarta.validation.constraints.*;\nimport lombok.*;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class EmployeeDTO {\n\n    private Long id;\n\n    @NotBlank(message = "Name of the employee cannot be blank")\n    @Size(min = 3, max = 10, message = "Number of characters in name should be in the range: [3, 10]")\n    private String name;\n\n    @NotBlank(message = "Email of the employee cannot be blank")\n    @Email(message = "Email should be a valid email")\n    private String email;\n\n    @NotNull(message = "Age of the employee cannot be blank")\n    @Max(value = 80, message = "Age of Employee cannot be greater than 80")\n    @Min(value = 18, message = "Age of Employee cannot be less than 18")\n    private Integer age;\n\n    @NotBlank(message = "Role of the employee cannot be blank")\n//    @Pattern(regexp = "^(ADMIN|USER)$", message = "Role of Employee can either be USER or ADMIN")\n    @EmployeeRoleValidation\n    private String role; //ADMIN, USER\n\n    @NotNull(message = "Salary of Employee should be not null")\n    @Positive(message = "Salary of Employee should be positive")\n    @Digits(integer = 6, fraction = 2, message = "The salary can be in the form XXXXX.YY")\n    @DecimalMax(value = "100000.99")\n    @DecimalMin(value = "100.50")\n    private Double salary;\n\n    @PastOrPresent(message = "DateOfJoining field in Employee cannot be in the future")\n    private LocalDate dateOfJoining;\n\n    @AssertTrue(message = "Employee should be active")\n    @JsonProperty("isActive")\n    private Boolean isActive;\n}\n\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-validation</artifactId>\n\t\t</dependency>\n\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"body-raw--json",children:"Body (Raw \u2192 JSON)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Rohit",\n  "email": "rohit.sharma@example.com",\n  "age": 30,\n  "role": "ADMIN",\n  "salary": 55000.75,\n  "dateOfJoining": "2024-08-01",\n  "isActive": true\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"successful-response-example-http-200-or-201",children:"Successful Response Example (HTTP 200 or 201)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "id": 1,\n  "name": "Rohit",\n  "email": "rohit.sharma@example.com",\n  "age": 30,\n  "role": "ADMIN",\n  "salary": 55000.75,\n  "dateOfJoining": "2024-08-01",\n  "isActive": true\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"test-case-invalid-data-trigger-all-validations",children:"Test Case: Invalid Data (Trigger All Validations)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Ro",                   // Too short\n  "email": "rohit@@wrong",       // Invalid email\n  "age": 15,                     // Too young\n  "role": "GUEST",               // Invalid role, not ADMIN or USER\n  "salary": 99.99,               // Below minimum 100.50\n  "dateOfJoining": "2030-01-01", // Future date\n  "isActive": false              // Should be true\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"expected-response-http-400-bad-request",children:"Expected Response: HTTP 400 Bad Request"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2025-06-17T10:15:30.456+00:00",\n  "status": 400,\n  "errors": [\n    "Name should be between 3 and 10 characters",\n    "Email should be a valid email",\n    "Age of Employee cannot be less than 18",\n    "Role of Employee can either be USER or ADMIN",\n    "Salary must be at least 100.50",\n    "DateOfJoining cannot be in the future",\n    "Employee should be active"\n  ]\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>o});var l=i(96540);const a={},t=l.createContext(a);function s(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);