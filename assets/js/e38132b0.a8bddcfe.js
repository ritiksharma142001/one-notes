"use strict";(self.webpackChunkes_note=self.webpackChunkes_note||[]).push([[3495],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var a=i(96540);const s={},t=a.createContext(s);function l(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),a.createElement(t.Provider,{value:n},e.children)}},78847:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"advanced-java/0-1/Week-3/3.2","title":"Hibernate and JPA","description":"Hibernate ORM Mapping","source":"@site/docs/advanced-java/0-1/Week-3/3.2.md","sourceDirName":"advanced-java/0-1/Week-3","slug":"/advanced-java/0-1/Week-3/3.2","permalink":"/one-notes/advanced-java/0-1/Week-3/3.2","draft":false,"unlisted":false,"editUrl":"https://github.com/ritiksharma142001/one-notes/edit/main/docs/advanced-java/0-1/Week-3/3.2.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Installing MySql & DBeaver","permalink":"/one-notes/advanced-java/0-1/Week-3/3.1"},"next":{"title":"Spring Data JPA & Dynamic Query Methods","permalink":"/one-notes/advanced-java/0-1/Week-3/3.3"}}');var s=i(74848),t=i(28453);const l={sidebar_position:2},r="Hibernate and JPA",d={},o=[{value:"Hibernate ORM Mapping",id:"hibernate-orm-mapping",level:2},{value:"<strong>How tables in the database are mapped to Java classes using Hibernate.</strong>",id:"how-tables-in-the-database-are-mapped-to-java-classes-using-hibernate",level:3},{value:"Deeper Understanding of Hibernate, JPA &amp; Spring Data JPA",id:"deeper-understanding-of-hibernate-jpa--spring-data-jpa",level:2},{value:"Hibernate Overview",id:"hibernate-overview",level:3},{value:"Traditional Approach (Without Hibernate)",id:"traditional-approach-without-hibernate",level:3},{value:"Why Use Hibernate?",id:"why-use-hibernate",level:3},{value:"Hibernate = Implementation of JPA",id:"hibernate--implementation-of-jpa",level:3},{value:"JPA and Hibernate Annotations",id:"jpa-and-hibernate-annotations",level:3},{value:"Alternatives to Hibernate",id:"alternatives-to-hibernate",level:3},{value:"Advantages of Hibernate",id:"advantages-of-hibernate",level:3},{value:"Spring Data JPA",id:"spring-data-jpa",level:3},{value:"Benefits of Spring Data JPA",id:"benefits-of-spring-data-jpa",level:3},{value:"Query Languages \u2013 JPQL vs SQL",id:"query-languages--jpql-vs-sql",level:3},{value:"How It All Connects",id:"how-it-all-connects",level:3},{value:"What Does Persistence Mean in Programming (Java/JPA)?-",id:"what-does-persistence-mean-in-programming-javajpa-",level:2},{value:"Hibernate",id:"hibernate",level:2},{value:"What is Hibernate?",id:"what-is-hibernate",level:3},{value:"Object-Oriented to Relational Mapping",id:"object-oriented-to-relational-mapping",level:3},{value:"Hibernate and JPA",id:"hibernate-and-jpa-1",level:3},{value:"What is JPA (Java Persistence API)?",id:"what-is-jpa-java-persistence-api",level:3},{value:"Why Use JPA?",id:"why-use-jpa",level:3},{value:"Why Hibernate is Preferred",id:"why-hibernate-is-preferred",level:3},{value:"Spring Boot Project Setup",id:"spring-boot-project-setup",level:2},{value:"Entity Class \u2013 Product",id:"entity-class--product",level:3},{value:"Hibernate DDL Auto Configuration",id:"hibernate-ddl-auto-configuration",level:3},{value:"SQL Logging and Formatting",id:"sql-logging-and-formatting",level:3},{value:"Hibernate Dialect",id:"hibernate-dialect",level:3},{value:"Hibernate Entity Configuration and application.properties Setup",id:"hibernate-entity-configuration-and-applicationproperties-setup",level:2},{value:"Where to Add Hibernate Configurations?",id:"where-to-add-hibernate-configurations",level:3},{value:"<code>@Entity</code> Annotation",id:"entity-annotation",level:3},{value:"<code>@Table</code> Annotation (Optional)",id:"table-annotation-optional",level:3},{value:"<code>@Id</code> and <code>@GeneratedValue</code>",id:"id-and-generatedvalue",level:3},{value:"<code>@Column</code> Annotation",id:"column-annotation",level:3},{value:"<code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code>",id:"creationtimestamp-and-updatetimestamp",level:3},{value:"Understanding @Table Annotation in JPA (Hibernate)",id:"understanding-table-annotation-in-jpa-hibernate",level:2},{value:"Basic Syntax of @Table",id:"basic-syntax-of-table",level:3},{value:"Custom Table Name",id:"custom-table-name",level:3},{value:"Catalog and Schema",id:"catalog-and-schema",level:3},{value:"Unique Constraints",id:"unique-constraints",level:3},{value:"Indexes for Performance Optimization",id:"indexes-for-performance-optimization",level:3},{value:"Multiple Indexes",id:"multiple-indexes",level:3},{value:"MySQL Configuration &amp; Hibernate Table Creation",id:"mysql-configuration--hibernate-table-creation",level:2},{value:"Why Application Failed Initially",id:"why-application-failed-initially",level:3},{value:"Required MySQL Configuration in <code>application.properties</code>",id:"required-mysql-configuration-in-applicationproperties",level:3},{value:"Table Schema Generated by Hibernate",id:"table-schema-generated-by-hibernate",level:3},{value:"Indexes Created",id:"indexes-created",level:3},{value:"Constraint Definitions in Logs",id:"constraint-definitions-in-logs",level:3},{value:"Verifying Table in MySQL",id:"verifying-table-in-mysql",level:3},{value:"Inserting Data into the Table",id:"inserting-data-into-the-table",level:3},{value:"Hibernate Data Initialization with data.sql &amp; Key Features of JPA",id:"hibernate-data-initialization-with-datasql--key-features-of-jpa",level:2},{value:"Using data.sql for Initial Data Insertion",id:"using-datasql-for-initial-data-insertion",level:3},{value:"Handling Unique Constraint Errors",id:"handling-unique-constraint-errors",level:3},{value:"Observing Hibernate Behavior on Application Restart",id:"observing-hibernate-behavior-on-application-restart",level:3},{value:"Validating Inserted Data",id:"validating-inserted-data",level:3},{value:"Key Features of JPA",id:"key-features-of-jpa",level:2},{value:"Entity Management",id:"entity-management",level:3},{value:"JPQL (Java Persistence Query Language)",id:"jpql-java-persistence-query-language",level:3},{value:"Transaction Support",id:"transaction-support",level:3},{value:"Entity Relationships",id:"entity-relationships",level:3},{value:"Final Code",id:"final-code",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"hibernate-and-jpa",children:"Hibernate and JPA"})}),"\n",(0,s.jsx)(n.h2,{id:"hibernate-orm-mapping",children:"Hibernate ORM Mapping"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"i",src:i(95391).A+"",width:"1227",height:"658"})}),"\n",(0,s.jsx)(n.h3,{id:"how-tables-in-the-database-are-mapped-to-java-classes-using-hibernate",children:(0,s.jsx)(n.strong,{children:"How tables in the database are mapped to Java classes using Hibernate."})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The Hibernate framework:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Works behind the scenes to map columns in database tables to fields in Java classes."}),"\n",(0,s.jsx)(n.li,{children:"For example, a column like id in the database is automatically mapped to an id field in the Student Java class."}),"\n",(0,s.jsx)(n.li,{children:"We, as a developer, do not need to manually map every field or column."}),"\n",(0,s.jsx)(n.li,{children:"Hibernate handles this mapping automatically."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["As seen in earlier sessions:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"We didn\u2019t manually map fields between the database and Java classes."}),"\n",(0,s.jsx)(n.li,{children:"This was handled by Hibernate working in the background."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Why is Hibernate useful?","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It simplifies database operations."}),"\n",(0,s.jsxs)(n.li,{children:["Developers don\u2019t need to worry about:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Writing SQL queries."}),"\n",(0,s.jsx)(n.li,{children:"Managing columns or table structure directly."}),"\n",(0,s.jsx)(n.li,{children:"Instead, you just work with Java objects and fields."}),"\n",(0,s.jsx)(n.li,{children:"Hibernate handles the conversion between Java fields and database columns."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"deeper-understanding-of-hibernate-jpa--spring-data-jpa",children:"Deeper Understanding of Hibernate, JPA & Spring Data JPA"}),"\n",(0,s.jsx)(n.h3,{id:"hibernate-overview",children:"Hibernate Overview"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It\u2019s important to understand the Hibernate framework in more detail."}),"\n",(0,s.jsx)(n.li,{children:"Hibernate simplifies the interaction between Java objects and relational databases."}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate is an ORM (Object-Relational Mapping) framework that:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Maps Java objects to database tables."}),"\n",(0,s.jsx)(n.li,{children:"Converts data between Java classes and relational database tables."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"traditional-approach-without-hibernate",children:"Traditional Approach (Without Hibernate)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You typically connect to a database (e.g., MySQL, SQL Server, MongoDB) using a JDBC driver."}),"\n",(0,s.jsxs)(n.li,{children:["With JDBC, you:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Manually write SQL queries in your Java code."}),"\n",(0,s.jsx)(n.li,{children:"Pass those queries to the database."}),"\n",(0,s.jsx)(n.li,{children:"Handle data manipulation yourself."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["This approach requires managing:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"SQL syntax."}),"\n",(0,s.jsx)(n.li,{children:"Table structures."}),"\n",(0,s.jsx)(n.li,{children:"Result sets manually."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"why-use-hibernate",children:"Why Use Hibernate?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate abstracts the low-level SQL and JDBC operations."}),"\n",(0,s.jsxs)(n.li,{children:["With Hibernate:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You don\u2019t need to worry about writing SQL queries."}),"\n",(0,s.jsx)(n.li,{children:"You work directly with Java objects (entities)."}),"\n",(0,s.jsx)(n.li,{children:"Data is automatically mapped between classes and tables."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate handles the conversion:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"From database rows to Java objects."}),"\n",(0,s.jsx)(n.li,{children:"From Java objects to database rows."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"hibernate--implementation-of-jpa",children:"Hibernate = Implementation of JPA"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate is a concrete implementation of the JPA specification."}),"\n",(0,s.jsxs)(n.li,{children:["JPA (Java Persistence API):","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Is a set of standards (interfaces) for object-relational mapping."}),"\n",(0,s.jsx)(n.li,{children:"Defines how Java objects should be persisted in a relational database."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate implements JPA and provides:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The actual functionality for the abstract definitions of JPA."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"jpa-and-hibernate-annotations",children:"JPA and Hibernate Annotations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Entity"}),": Marks a Java class as a JPA entity (a database table)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Column"}),": Defines mapping between a field and a column in the table."]}),"\n",(0,s.jsx)(n.li,{children:"JPA defines what should be done, and Hibernate defines how it should be done."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"alternatives-to-hibernate",children:"Alternatives to Hibernate"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate is the most widely used ORM tool."}),"\n",(0,s.jsxs)(n.li,{children:["Alternatives include:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenJPA"}),"\n",(0,s.jsx)(n.li,{children:"EclipseLink"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"These alternatives also implement the JPA specification."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"advantages-of-hibernate",children:"Advantages of Hibernate"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Provides:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ORM capabilities."}),"\n",(0,s.jsx)(n.li,{children:"Optimized, scalable, and vendor-independent code."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Supports multiple databases (e.g., MySQL, PostgreSQL, MongoDB, etc.)."}),"\n",(0,s.jsx)(n.li,{children:"Reduces boilerplate code and simplifies data persistence."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"spring-data-jpa",children:"Spring Data JPA"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Data JPA is built on top of JPA and integrated into Spring Boot."}),"\n",(0,s.jsx)(n.li,{children:"It further simplifies data access by providing repository-based architecture."}),"\n",(0,s.jsxs)(n.li,{children:["Uses interfaces like:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"CrudRepository"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"JpaRepository"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"benefits-of-spring-data-jpa",children:"Benefits of Spring Data JPA"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Eliminates the need to write boilerplate queries."}),"\n",(0,s.jsxs)(n.li,{children:["You can:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Save, update, delete, and retrieve records using method names only."}),"\n",(0,s.jsx)(n.li,{children:"Avoid writing actual SQL or JPQL queries for basic operations."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"This is achieved using DAO (Data Access Object) methods provided by the repository interfaces."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"query-languages--jpql-vs-sql",children:"Query Languages \u2013 JPQL vs SQL"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"With JPA, you can write queries in JPQL (Java Persistence Query Language)."}),"\n",(0,s.jsx)(n.li,{children:"JPQL is database-independent and works with entity objects."}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Converts JPQL into native SQL or MongoDB queries depending on the database."}),"\n",(0,s.jsx)(n.li,{children:"Also maps the results back into Java objects."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"how-it-all-connects",children:"How It All Connects"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You can work at different layers depending on your project:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Data JPA: Use predefined methods in repository interfaces."}),"\n",(0,s.jsx)(n.li,{children:"JPA: Write custom JPQL queries."}),"\n",(0,s.jsx)(n.li,{children:"Hibernate: Handle deeper customization and mapping."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate sits at the core, converting:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JPQL \u2192 SQL (or NoSQL)"}),"\n",(0,s.jsx)(n.li,{children:"Java objects \u2192 Database tables (or documents)"}),"\n",(0,s.jsx)(n.li,{children:"And vice versa."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"what-does-persistence-mean-in-programming-javajpa-",children:"What Does Persistence Mean in Programming (Java/JPA)?-"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Persistence \u2013 Simple Meaning:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Persistence means storing data in a way that it remains available even after the application stops."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["In Other Words:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Data is persistent if it is not lost when:"}),"\n",(0,s.jsx)(n.li,{children:"he app is closed,"}),"\n",(0,s.jsx)(n.li,{children:"The server is restarted,"}),"\n",(0,s.jsx)(n.li,{children:"Or the computer is shut down."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Example:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If you store user details in RAM (memory) \u2013 they will be lost when the app stops."}),"\n",(0,s.jsx)(n.li,{children:"If you store them in a database (like MySQL/PostgreSQL) \u2013 they are persisted."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Let's take a simple Java class (entity) and walk through how Spring Data JPA works from your Java code all the way to the database, step-by-step."})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Example Class: ",(0,s.jsx)(n.code,{children:"Student"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"import jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Student {\n    @Id\n    private Long id;\n    private String name;\n    private int age;\n\n    // Getters and Setters\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Step-by-Step Flow: Spring Data JPA to Database"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Entity Class"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"@Entity"})," annotation tells JPA/Hibernate that this class should be mapped to a table in the database."]}),"\n",(0,s.jsxs)(n.li,{children:["Fields like ",(0,s.jsx)(n.code,{children:"id"}),", ",(0,s.jsx)(n.code,{children:"name"}),", and ",(0,s.jsx)(n.code,{children:"age"})," will become columns."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Student.java"})," \u2192 ",(0,s.jsx)(n.code,{children:"student"})," table in the database."]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Spring Data JPA Repository Interface"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"import org.springframework.data.repository.CrudRepository;\n\npublic interface StudentRepository extends CrudRepository<Student, Long> {\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["CrudRepository provides built-in methods like:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"save(), findById(), findAll(), deleteById() etc."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"You don\u2019t need to write SQL queries for these operations!"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Saving Data in Controller or Service"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping("/students")\npublic class StudentController {\n\n    @Autowired\n    private StudentRepository studentRepository;\n\n    @PostMapping\n    public Student createStudent(@RequestBody Student student) {\n        return studentRepository.save(student);  // Step: Save student\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"When a POST request comes in with student data, Spring calls:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"studentRepository.save(student);\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"What Happens Internally?"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Spring Data JPA calls the save() method (from CrudRepository)."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This is a proxy method, implemented by Hibernate."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Hibernate (ORM framework) checks:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Is this object new or existing?"}),"\n",(0,s.jsx)(n.li,{children:"It then translates this Java object into a SQL INSERT query, e.g.:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO student (id, name, age) VALUES (1, 'Ravi', 22);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate uses JDBC to send this SQL to the actual database (e.g., MySQL)."}),"\n",(0,s.jsx)(n.li,{children:"Database executes the query and persists the data in the table."}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"How Hibernate Knows About the Database?"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"From your application.properties or application.yml:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"spring.datasource.url=jdbc:mysql://localhost:3306/testdb\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto=update\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["This config tells Spring Boot:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"How to connect to MySQL."}),"\n",(0,s.jsx)(n.li,{children:"Hibernate should create/update the table if not present."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"Table Auto-Creation"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Because of:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"spring.jpa.hibernate.ddl-auto=update\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Hibernate will automatically:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Check the ",(0,s.jsx)(n.code,{children:"Student"})," class."]}),"\n",(0,s.jsxs)(n.li,{children:["If the ",(0,s.jsx)(n.code,{children:"student"})," table is missing, it will create:"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE student (\n    id BIGINT PRIMARY KEY,\n    name VARCHAR(255),\n    age INT\n);\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsx)(n.li,{children:"Getting Data Back"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@GetMapping("/{id}")\npublic Student getStudent(@PathVariable Long id) {\n    return studentRepository.findById(id).orElse(null);\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This will result in Hibernate generating and running:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM student WHERE id = 1;\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Converts result into a Student object and returns it."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What is JPQL?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JPQL is like SQL, but instead of querying database tables, you query Java objects (entities)."}),"\n",(0,s.jsx)(n.li,{children:"It works on entity class names and field names, not table and column names."}),"\n",(0,s.jsx)(n.li,{children:"SQL:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM student WHERE name = 'Ravi';\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JPQL:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jpql",children:"SELECT s FROM Student s WHERE s.name = 'Ravi';\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"When Do You Use JPQL?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You use JPQL when:"}),"\n",(0,s.jsx)(n.li,{children:"You need custom queries beyond basic CRUD."}),"\n",(0,s.jsx)(n.li,{children:"Spring Data JPA's built-in repository methods (like findById, save, etc.) are not enough."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Custom Query in Repository"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface StudentRepository extends CrudRepository<Student, Long> {\n\n    @Query("SELECT s FROM Student s WHERE s.name = :name")\n    List<Student> findByName(@Param("name") String name);\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Here, ",(0,s.jsx)(n.code,{children:'"SELECT s FROM Student s WHERE s.name = :name"'})," is a JPQL query."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Student"})," is the Java class, and ",(0,s.jsx)(n.code,{children:"s.name"})," refers to the Java field."]}),"\n",(0,s.jsx)(n.li,{children:"You're not using the actual table name or SQL column."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What Happens Internally?"}),'\nLet\u2019s break down what happens when findByName("Ravi") is called:']}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Data JPA detects the @Query annotation."}),"\n",(0,s.jsx)(n.li,{children:"It passes the JPQL query to Hibernate."}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Parses the JPQL."}),"\n",(0,s.jsx)(n.li,{children:"Translates it into SQL (e.g., SELECT * FROM student WHERE name = 'Ravi')."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Sends the SQL to the database using JDBC."}),"\n",(0,s.jsx)(n.li,{children:"Converts the result back into Student Java objects."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Where JPQL Is NOT Needed"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You don\u2019t need JPQL when:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You use method name-based queries like:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"List<Student> findByAge(int age);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Data JPA parses the method name and builds the query automatically."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"hibernate",children:"Hibernate"}),"\n",(0,s.jsx)(n.h3,{id:"what-is-hibernate",children:"What is Hibernate?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate is a powerful, high-performance Object-Relational Mapping (ORM) framework widely used with Java."}),"\n",(0,s.jsx)(n.li,{children:"It provides a framework for mapping object-oriented domain models to relational databases."}),"\n",(0,s.jsxs)(n.li,{children:["With Hibernate, you can:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Convert Java objects (entities) to database tables."}),"\n",(0,s.jsx)(n.li,{children:"Automatically map relationships between tables and classes."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"object-oriented-to-relational-mapping",children:"Object-Oriented to Relational Mapping"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In a relational database, data is stored in tables that are often related (e.g., Employee \u2192 Department)."}),"\n",(0,s.jsx)(n.li,{children:"In Java, we use objects and classes."}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate handles the mapping between:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Java classes and objects (object-oriented model)"}),"\n",(0,s.jsx)(n.li,{children:"And tables and rows in the relational database."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"hibernate-and-jpa-1",children:"Hibernate and JPA"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate is one of the implementations of JPA (Java Persistence API)."}),"\n",(0,s.jsx)(n.li,{children:"JPA is the standard specification for ORM in Java."}),"\n",(0,s.jsxs)(n.li,{children:["There are multiple implementations of JPA, including:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate"}),"\n",(0,s.jsx)(n.li,{children:"EclipseLink"}),"\n",(0,s.jsx)(n.li,{children:"OpenJPA"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"what-is-jpa-java-persistence-api",children:"What is JPA (Java Persistence API)?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JPA is a specification, not an implementation."}),"\n",(0,s.jsxs)(n.li,{children:["It provides:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A set of interfaces and annotations for ORM."}),"\n",(0,s.jsx)(n.li,{children:"Rules and standards for how to persist Java objects to a database."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"JPA does not perform any database operations itself \u2014 it relies on an implementation like Hibernate to do so."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"why-use-jpa",children:"Why Use JPA?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JPA provides a common programming model for ORM in Java."}),"\n",(0,s.jsxs)(n.li,{children:["Benefits:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Developers can switch between different JPA providers (like Hibernate or EclipseLink) without changing their code."}),"\n",(0,s.jsx)(n.li,{children:"It creates an abstraction layer over ORM implementations."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"why-hibernate-is-preferred",children:"Why Hibernate is Preferred"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Hibernate is the most widely used JPA provider because it:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Implements all features of JPA."}),"\n",(0,s.jsx)(n.li,{children:"Adds additional features and optimizations beyond JPA."}),"\n",(0,s.jsx)(n.li,{children:"Helps write optimized queries and manage efficient table structures."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Hibernate provides:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Powerful caching"}),"\n",(0,s.jsx)(n.li,{children:"Lazy and eager loading"}),"\n",(0,s.jsx)(n.li,{children:"Advanced query capabilities"}),"\n",(0,s.jsx)(n.li,{children:"Integration with various databases"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"spring-boot-project-setup",children:"Spring Boot Project Setup"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Tool used: Spring Initializr"}),"\n",(0,s.jsx)(n.li,{children:"Build tool: Maven"}),"\n",(0,s.jsx)(n.li,{children:"Spring Boot version: 3.3.0"}),"\n",(0,s.jsx)(n.li,{children:"Group ID: com.codingshuttle"}),"\n",(0,s.jsx)(n.li,{children:"Artifact ID / Project name: jpa-tutorial"}),"\n",(0,s.jsx)(n.li,{children:"Packaging: JAR"}),"\n",(0,s.jsx)(n.li,{children:"Java Version: (default or latest stable)"}),"\n",(0,s.jsxs)(n.li,{children:["Dependencies added:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spring Web"}),"\n",(0,s.jsx)(n.li,{children:"Spring Data JPA"}),"\n",(0,s.jsx)(n.li,{children:"MySQL Driver"}),"\n",(0,s.jsx)(n.li,{children:"Lombok"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"entity-class--product",children:"Entity Class \u2013 Product"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Created a POJO named Product under a package entities:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String sku;\n    private String title;\n    private BigDecimal price;\n    private Integer quantity;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Lombok annotations are used to reduce boilerplate code:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Data"})," for getters, setters, toString, etc."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Builder"})," for builder pattern"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@NoArgsConstructor"})," and ",(0,s.jsx)(n.code,{children:"@AllArgsConstructor"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Entity"})," marks the class as a JPA entity."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Id"})," marks the primary key."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@GeneratedValue"})," is used for auto-generating the primary key."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"hibernate-ddl-auto-configuration",children:"Hibernate DDL Auto Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["The property ",(0,s.jsx)(n.code,{children:"spring.jpa.hibernate.ddl-auto"})," defines how Hibernate handles schema updates:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use update, create, or create-drop in development."}),"\n",(0,s.jsxs)(n.li,{children:["Use none or validate in production.\n| Value         | Description                                                                 |\n| ------------- | --------------------------------------------------------------------------- |\n| ",(0,s.jsx)(n.code,{children:"none"}),"        | No schema change. Hibernate will not interact with the schema.              |\n| ",(0,s.jsx)(n.code,{children:"validate"}),"    | Validates the schema with the entity definitions. Throws error if mismatch. |\n| ",(0,s.jsx)(n.code,{children:"update"}),"      | Updates the schema to match the entity without dropping existing data.      |\n| ",(0,s.jsx)(n.code,{children:"create"}),"      | Creates a new schema each time the app starts. Drops existing data.         |\n| ",(0,s.jsx)(n.code,{children:"create-drop"})," | Creates schema on startup and drops it on shutdown (useful in dev only).    |"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sql-logging-and-formatting",children:"SQL Logging and Formatting"}),"\n",(0,s.jsx)(n.p,{children:"These properties help during development and debugging:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"spring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Purpose"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"show-sql=true"})}),(0,s.jsx)(n.td,{children:"Logs generated SQL queries to the console."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"format_sql=true"})}),(0,s.jsx)(n.td,{children:"Formats SQL queries for better readability."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"hibernate-dialect",children:"Hibernate Dialect"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dialect tells Hibernate how to convert JPQL into the correct SQL for the target database."}),"\n",(0,s.jsxs)(n.li,{children:["Common dialects:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"MySQL5Dialect"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"MySQL8Dialect"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"PostgreSQLDialect"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OracleDialect"}),", etc."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Modern Spring Boot + Hibernate can auto-detect dialect based on the JDBC driver, so it's optional."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"hibernate-entity-configuration-and-applicationproperties-setup",children:"Hibernate Entity Configuration and application.properties Setup"}),"\n",(0,s.jsx)(n.h3,{id:"where-to-add-hibernate-configurations",children:"Where to Add Hibernate Configurations?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All Hibernate and JPA configurations are added in the ",(0,s.jsx)(n.code,{children:"application.properties"})," file of the Spring Boot project."]}),"\n",(0,s.jsx)(n.li,{children:"Example configurations:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"application.properties\n\n# Auto-create or update schema based on entity classes\nspring.jpa.hibernate.ddl-auto=update\n\n# Show SQL queries generated by Hibernate in the console\nspring.jpa.show-sql=true\n\n# Format SQL queries for better readability\nspring.jpa.properties.hibernate.format_sql=true\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Note: Dialect (",(0,s.jsx)(n.code,{children:"spring.jpa.properties.hibernate.dialect"}),") is optional. Spring Boot auto-detects it based on the JDBC driver."]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"entity-annotation",children:[(0,s.jsx)(n.code,{children:"@Entity"})," Annotation"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Marks a Java class as a JPA entity that Hibernate should persist to the database."}),"\n",(0,s.jsx)(n.li,{children:"Hibernate will automatically create a corresponding table for the entity in the database."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Entity\npublic class Product { ... }\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"table-annotation-optional",children:[(0,s.jsx)(n.code,{children:"@Table"})," Annotation (Optional)"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Allows specifying the table name and configuration explicitly."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Table(name = "product_table")\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You can define additional configurations within ",(0,s.jsx)(n.code,{children:"@Table"}),", like unique constraints."]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"id-and-generatedvalue",children:[(0,s.jsx)(n.code,{children:"@Id"})," and ",(0,s.jsx)(n.code,{children:"@GeneratedValue"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Id"}),": Marks a field as the primary key."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@GeneratedValue"}),": Tells Hibernate to auto-generate the primary key value."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Strategy ",(0,s.jsx)(n.code,{children:"IDENTITY"})," lets the database handle ID generation (like MySQL's ",(0,s.jsx)(n.code,{children:"AUTO_INCREMENT"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"column-annotation",children:[(0,s.jsx)(n.code,{children:"@Column"})," Annotation"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used to customize the database column for a field:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Column(name = "title_x", nullable = false, length = 100)\nprivate String title;\n'})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Attribute"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"name"})}),(0,s.jsx)(n.td,{children:"Changes the column name in the table."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nullable=false"})}),(0,s.jsx)(n.td,{children:"Makes the column NOT NULL in the database."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"length=20"})}),(0,s.jsx)(n.td,{children:"Restricts maximum length of string fields."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"unique=true"})}),(0,s.jsx)(n.td,{children:"Makes the column values unique."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"insertable"})}),(0,s.jsx)(n.td,{children:"Controls whether the column is included in SQL INSERTs."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"updatable"})}),(0,s.jsx)(n.td,{children:"Controls whether the column is included in SQL UPDATEs."})]})]})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Naming Convention:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Java fields like createdAt \u2192 automatically converted to created_at in the table."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"creationtimestamp-and-updatetimestamp",children:[(0,s.jsx)(n.code,{children:"@CreationTimestamp"})," and ",(0,s.jsx)(n.code,{children:"@UpdateTimestamp"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Provided by Hibernate (",(0,s.jsx)(n.code,{children:"org.hibernate.annotations package"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Automatically populate the timestamps when an entity is created or updated."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@CreationTimestamp\nprivate LocalDateTime createdAt;\n\n@UpdateTimestamp\nprivate LocalDateTime updatedAt;\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Annotation"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"@CreationTimestamp"})}),(0,s.jsx)(n.td,{children:"Auto-sets the value when the record is inserted."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"@UpdateTimestamp"})}),(0,s.jsx)(n.td,{children:"Auto-updates the value every time the entity is updated."})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"understanding-table-annotation-in-jpa-hibernate",children:"Understanding @Table Annotation in JPA (Hibernate)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The @Table annotation provides metadata about how the entity maps to a specific table in the database. You can customize various aspects of the table using this annotation."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"basic-syntax-of-table",children:"Basic Syntax of @Table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Entity\n@Table(\n    name = "product_table",\n    catalog = "inventory_catalog",\n    schema = "hr",\n    uniqueConstraints = { ... },\n    indexes = { ... }\n)\npublic class Product {\n    ...\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"custom-table-name",children:"Custom Table Name"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use the ",(0,s.jsx)(n.code,{children:"name"})," parameter to change the default table name (which is otherwise the same as the class name)."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Table(name = "product_table")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"catalog-and-schema",children:"Catalog and Schema"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Catalog: Groups tables under a specific catalog."}),"\n",(0,s.jsx)(n.li,{children:"Schema: Logical grouping of tables, commonly used in enterprise databases."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Table(catalog = "inventory_catalog", schema = "hr")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"unique-constraints",children:"Unique Constraints"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensures one or more columns contain unique values across all rows.\n",(0,s.jsx)(n.strong,{children:"Single Column Unique Constraint"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Table(\n    uniqueConstraints = @UniqueConstraint(\n        name = "sku_unique",\n        columnNames = "sku"\n    )\n)\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"This ensures that no two products can have the same SKU."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Multiple Column Unique Constraint"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Table(\n    uniqueConstraints = {\n        @UniqueConstraint(\n            name = "title_price_unique",\n            columnNames = { "title", "price" }\n        )\n    }\n)\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"This ensures that no two products can have the same combination of title and price."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Allowed: Parle + \u20b950 and Parle + \u20b920"}),"\n",(0,s.jsx)(n.li,{children:"\u274c Not Allowed: Two entries with Parle + \u20b920"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"indexes-for-performance-optimization",children:"Indexes for Performance Optimization"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Improves the speed of read queries by creating an index on specific columns."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Indexes use internal data structures like B-trees or Hash Tables for faster lookup."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Example Index on sku"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Table(\n    indexes = {\n        @Index(name = "sku_index", columnList = "sku")\n    }\n)\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'If you have renamed a column using @Column(name = "title_x"), use title_x instead of title in your index/constraints:'}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Index(name = "title_x_index", columnList = "title_x")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"multiple-indexes",children:"Multiple Indexes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You can define more than one index:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Table(\n    indexes = {\n        @Index(name = "sku_index", columnList = "sku"),\n        @Index(name = "title_price_index", columnList = "title_x, price")\n    }\n)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"mysql-configuration--hibernate-table-creation",children:"MySQL Configuration & Hibernate Table Creation"}),"\n",(0,s.jsx)(n.h3,{id:"why-application-failed-initially",children:"Why Application Failed Initially"}),"\n",(0,s.jsx)(n.p,{children:"-The application failed to start because:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"No data source configuration was provided."}),"\n",(0,s.jsx)(n.li,{children:"We were using MySQL as the database (via MySQL Connector), not the in-memory H2 database."}),"\n",(0,s.jsx)(n.li,{children:"Therefore, we had to manually define the MySQL connection settings."}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"required-mysql-configuration-in-applicationproperties",children:["Required MySQL Configuration in ",(0,s.jsx)(n.code,{children:"application.properties"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"spring.datasource.url=jdbc:mysql://localhost:3306/test?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"url"}),": Points to the local MySQL server, port ",(0,s.jsx)(n.code,{children:"3306"}),", and database ",(0,s.jsx)(n.code,{children:"test"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"useSSL=false"}),": Since this is a development environment, SSL is disabled."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"username"})," and ",(0,s.jsx)(n.code,{children:"password"}),": Credentials to connect to MySQL."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"table-schema-generated-by-hibernate",children:"Table Schema Generated by Hibernate"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Hibernate log showed the following column definitions:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"id \u2192 BIGINT, NOT NULL, AUTO_INCREMENT (Primary Key)"}),"\n",(0,s.jsx)(n.li,{children:"created_at \u2192 DATETIME"}),"\n",(0,s.jsx)(n.li,{children:"price \u2192 DECIMAL"}),"\n",(0,s.jsx)(n.li,{children:"quantity \u2192 INT"}),"\n",(0,s.jsx)(n.li,{children:"sku \u2192 VARCHAR(20) (Defined with length = 20)"}),"\n",(0,s.jsx)(n.li,{children:'title \u2192 Renamed to title_x using @Column(name = "title_x")'}),"\n",(0,s.jsx)(n.li,{children:"updated_at \u2192 DATETIME"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"indexes-created",children:"Indexes Created"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Hibernate created the following indexes:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sku_index"}),": Explicitly defined via ",(0,s.jsx)(n.code,{children:"@Index"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sku_unique"}),": Created automatically due to a unique constraint on the ",(0,s.jsx)(n.code,{children:"sku"})," column."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"title_price_unique"}),": Created due to the composite unique constraint on ",(0,s.jsx)(n.code,{children:"title_x"})," and ",(0,s.jsx)(n.code,{children:"price"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"constraint-definitions-in-logs",children:"Constraint Definitions in Logs"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Hibernate internally executed the following:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ALTER TABLE"})," to drop duplicate or unnecessary indexes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ADD CONSTRAINT"})," for:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sku_unique"})," \u2192 Ensures all SKUs are unique."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"title_price_unique"})," \u2192 Ensures no duplicate title and price pair exists."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"verifying-table-in-mysql",children:"Verifying Table in MySQL"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Opened the MySQL workbench or any GUI tool and refreshed the schema."}),"\n",(0,s.jsx)(n.li,{children:"The generated table (product_table) was visible."}),"\n",(0,s.jsxs)(n.li,{children:["Verified the following:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Columns: All defined columns including renamed ones."}),"\n",(0,s.jsx)(n.li,{children:"Indexes: SKU and title+price-based indexes."}),"\n",(0,s.jsxs)(n.li,{children:["Constraints: Unique constraints for ",(0,s.jsx)(n.code,{children:"sku"}),", and composite constraint for ",(0,s.jsx)(n.code,{children:"title_x"})," + ",(0,s.jsx)(n.code,{children:"price"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"inserting-data-into-the-table",children:"Inserting Data into the Table"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Data was inserted manually using SQL:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO product_table (sku, title_x, price, quantity, created_at, updated_at)\nVALUES \n  ('parle734', 'Parle', 20, 100, NOW(), NOW()),\n  ('pepsi123', 'Pepsi', 50, 200, NOW(), NOW()),\n  ('pepsi156', 'Pepsi', 60, 300, NOW(), NOW());\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"id"})," field was excluded because it is auto-generated."]}),"\n",(0,s.jsxs)(n.li,{children:["After execution:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"3 rows were added."}),"\n",(0,s.jsx)(n.li,{children:"Data visible inside the product_table."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"hibernate-data-initialization-with-datasql--key-features-of-jpa",children:"Hibernate Data Initialization with data.sql & Key Features of JPA"}),"\n",(0,s.jsx)(n.h3,{id:"using-datasql-for-initial-data-insertion",children:"Using data.sql for Initial Data Insertion"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Created a file named ",(0,s.jsx)(n.strong,{children:"data.sql"})," in the classpath."]}),"\n",(0,s.jsx)(n.li,{children:"Inside this file, SQL INSERT statements can be added to pre-populate the database."}),"\n",(0,s.jsx)(n.li,{children:"Required Spring Boot configurations in application.properties:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"spring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\nspring.sql.init.data-locations=classpath:data.sql\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["These settings:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Allow Spring Boot to initialize the database with data.sql."}),"\n",(0,s.jsx)(n.li,{children:"Ensure the script is always run during app startup."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"handling-unique-constraint-errors",children:"Handling Unique Constraint Errors"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Initially encountered an error:\n\"Duplicate entry for key 'sku_unique'\""}),"\n",(0,s.jsx)(n.li,{children:"Cause: Data already existed in DB and sku was defined as UNIQUE."}),"\n",(0,s.jsxs)(n.li,{children:["Solution:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Changed ddl-auto property from update to create to drop the old table and recreate it."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"spring.jpa.hibernate.ddl-auto=create\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Not recommended for production; only use create in development mode."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"observing-hibernate-behavior-on-application-restart",children:"Observing Hibernate Behavior on Application Restart"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["On restart:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hibernate executed: DROP TABLE IF EXISTS product_table"}),"\n",(0,s.jsx)(n.li,{children:"Then: CREATE TABLE product_table"}),"\n",(0,s.jsx)(n.li,{children:"Finally, ran the SQL commands from data.sql to insert the data."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"validating-inserted-data",children:"Validating Inserted Data"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After running the application:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verified that the inserted products were present in the table."}),"\n",(0,s.jsx)(n.li,{children:"Added one more product (Coca-Cola) to verify fresh insertion."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"INSERT INTO product_table (sku, title_x, price, quantity, created_at, updated_at)\nVALUES ('coke1124', 'Coca-Cola', 10, 100, NOW(), NOW());\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Confirmed that this entry was also added successfully."}),"\n",(0,s.jsx)(n.li,{children:"Demonstrated how data.sql is useful for initializing test data during development."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"key-features-of-jpa",children:"Key Features of JPA"}),"\n",(0,s.jsx)(n.h3,{id:"entity-management",children:"Entity Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Provides a standardized way to define and manage entities."}),"\n",(0,s.jsx)(n.li,{children:"Uses annotations like @Entity, @Column, @Id, @GeneratedValue."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"jpql-java-persistence-query-language",children:"JPQL (Java Persistence Query Language)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"JPA introduces JPQL, an object-oriented query language."}),"\n",(0,s.jsx)(n.li,{children:"Repositories use JPQL internally to query entities."}),"\n",(0,s.jsx)(n.li,{children:"JPQL is then converted to native SQL by Hibernate."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"transaction-support",children:"Transaction Support"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Built-in transaction management."}),"\n",(0,s.jsx)(n.li,{children:"Makes it easy to wrap multiple DB operations in a single transactional context."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"entity-relationships",children:"Entity Relationships"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["JPA supports defining relationships like:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"@OneToOne"}),"\n",(0,s.jsx)(n.li,{children:"@OneToMany"}),"\n",(0,s.jsx)(n.li,{children:"@ManyToOne"}),"\n",(0,s.jsx)(n.li,{children:"@ManyToMany"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Useful for mapping complex business models like:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Product \u2192 Category"}),"\n",(0,s.jsx)(n.li,{children:"Order \u2192 Products"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"These relationships will be covered in upcoming lectures."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"final-code",children:"Final Code"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"\u251c\u2500\u2500\u2500java\n\u2502   \u2514\u2500\u2500\u2500com\n\u2502       \u2514\u2500\u2500\u2500jpaTut\n\u2502           \u2514\u2500\u2500\u2500jpatuts\n\u2502               \u2502   JpatutsApplication.java\n\u2502               \u2502\n\u2502               \u2514\u2500\u2500\u2500entities\n\u2502                       Product.java\n\u2502\n\u2514\u2500\u2500\u2500resources\n    \u2502   application.properties\n    \u2502   data.sql\n    \u2502   \n    \u251c\u2500\u2500\u2500static\n    \u2514\u2500\u2500\u2500templates\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'package com.jpaTut.jpatuts.entities;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDateTime;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity\n@Table(\n        name = "product_table",\n        uniqueConstraints = {\n                @UniqueConstraint(name = "title_price_unique", columnNames = {"title_x", "price"})\n        },\n        indexes = {\n                @Index(name = "sku_index", columnList = "sku")\n        }\n)\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 20)\n    private String sku;\n\n    @Column(name = "title_x")\n    private String title;\n\n    private BigDecimal price;\n\n    private Integer quantity;\n\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n\n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n}\n\n\nspring.application.name=jpatuts\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always \nspring.sql.init.data-locations=classpath:data.sql\n\n\n\nINSERT INTO product_table (sku, title_x, price, quantity, created_at, updated_at)\nVALUES\n  (\'parle734\', \'Parle\', 20, 100, NOW(), NOW()),\n  (\'pepsi123\', \'Pepsi\', 50, 200, NOW(), NOW()),\n  (\'pepsi156\', \'Pepsi\', 60, 300, NOW(), NOW());\n\n\n\npackage com.jpaTut.jpatuts;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class JpatutsApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(JpatutsApplication.class, args);\n\t}\n\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},95391:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/1-41d30bd1ad3a1aaeeeb29f50f73efbe7.png"}}]);