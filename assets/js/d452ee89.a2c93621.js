"use strict";(self.webpackChunkes_note=self.webpackChunkes_note||[]).push([[2821],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var s=r(96540);const i={},o=s.createContext(i);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:n},e.children)}},66924:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"advanced-java/0-1/Week-2/2.8","title":"Transforming API Response","description":"Current Issue:","source":"@site/docs/advanced-java/0-1/Week-2/2.8.md","sourceDirName":"advanced-java/0-1/Week-2","slug":"/advanced-java/0-1/Week-2/2.8","permalink":"/one-notes/advanced-java/0-1/Week-2/2.8","draft":false,"unlisted":false,"editUrl":"https://github.com/ritiksharma142001/one-notes/edit/main/docs/advanced-java/0-1/Week-2/2.8.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Exception Handling In Spring Boot MVC","permalink":"/one-notes/advanced-java/0-1/Week-2/2.7"},"next":{"title":"Lamdas & Streams","permalink":"/one-notes/advanced-java/0-1/Week-2/2.9"}}');var i=r(74848),o=r(28453);const t={sidebar_position:8},l="Transforming API Response",a={},d=[{value:"Current Issue:",id:"current-issue",level:2},{value:"Why Response Transformation Is Important:",id:"why-response-transformation-is-important",level:2},{value:"Goal:",id:"goal",level:2},{value:"Solution:",id:"solution",level:2},{value:"Objective",id:"objective",level:2},{value:"Why Use a Global Response Handler?",id:"why-use-a-global-response-handler",level:3},{value:"Setting Up the Global Response Handler",id:"setting-up-the-global-response-handler",level:3},{value:"Override Required Methods",id:"override-required-methods",level:3},{value:"Define the <code>ApiResponse&lt;T&gt;</code> Class",id:"define-the-apiresponset-class",level:3},{value:"Result of Implementation",id:"result-of-implementation",level:3},{value:"In case of an error:",id:"in-case-of-an-error",level:3},{value:"Benefits:",id:"benefits",level:3},{value:"code",id:"code",level:3},{value:"Enhancing Error Handling Using Global Exception Handler in Spring Boot",id:"enhancing-error-handling-using-global-exception-handler-in-spring-boot",level:2},{value:"Current Approach:",id:"current-approach",level:3},{value:"Improvement Suggestion:",id:"improvement-suggestion",level:3},{value:"Implementation Steps:",id:"implementation-steps",level:3},{value:"Inside the Method:",id:"inside-the-method",level:3},{value:"Handling Generic Type Warning:",id:"handling-generic-type-warning",level:3},{value:"Refactor Existing Code:",id:"refactor-existing-code",level:3},{value:"Code Organization:",id:"code-organization",level:3},{value:"Benefits of the New Structure",id:"benefits-of-the-new-structure",level:2},{value:"Consistent API Responses:",id:"consistent-api-responses",level:3},{value:"Testing the Error Response:",id:"testing-the-error-response",level:3},{value:"Formatting Timestamp:",id:"formatting-timestamp",level:3},{value:"Final Result",id:"final-result",level:2},{value:"Professional Output:",id:"professional-output",level:3},{value:"Frontend Developer-Friendly:",id:"frontend-developer-friendly",level:3},{value:"final code",id:"final-code",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"transforming-api-response",children:"Transforming API Response"})}),"\n",(0,i.jsx)(n.h2,{id:"current-issue",children:"Current Issue:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Currently, we are returning the raw response from our service layer directly via the controller."}),"\n",(0,i.jsx)(n.li,{children:"The objects we receive from services are sent to the frontend without any transformation."}),"\n",(0,i.jsx)(n.li,{children:"There is no consistent response format, which can cause problems for the frontend while handling data."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"why-response-transformation-is-important",children:"Why Response Transformation Is Important:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"In production-ready applications, each API typically follows a standardized response format."}),"\n",(0,i.jsxs)(n.li,{children:["A consistent response structure helps the frontend:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Parse the response easily."}),"\n",(0,i.jsx)(n.li,{children:"Handle errors gracefully."}),"\n",(0,i.jsx)(n.li,{children:"Render data efficiently."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"goal",children:"Goal:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"To implement a global response transformation mechanism."}),"\n",(0,i.jsx)(n.li,{children:"So that we don\u2019t need to manually format the response in every controller method."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"solution",children:"Solution:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"@RestControllerAdvice"})," in Spring Boot."]}),"\n",(0,i.jsx)(n.li,{children:"This allows us to apply global changes to all API responses, enforcing a uniform structure automatically"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"objective",children:"Objective"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["To create a global API response handler using ",(0,i.jsx)(n.code,{children:"@RestControllerAdvice"})," and ",(0,i.jsx)(n.code,{children:"ResponseBodyAdvice"})," in Spring Boot."]}),"\n",(0,i.jsx)(n.li,{children:"To return uniform API responses for all controller methods across the application."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"why-use-a-global-response-handler",children:"Why Use a Global Response Handler?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Currently, each controller returns raw objects directly from the service layer."}),"\n",(0,i.jsx)(n.li,{children:"This leads to inconsistent API response formats, which are hard to manage in the frontend."}),"\n",(0,i.jsx)(n.li,{children:"A standardized response format improves readability, maintainability, and error handling on the frontend"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"setting-up-the-global-response-handler",children:"Setting Up the Global Response Handler"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a new class called ",(0,i.jsx)(n.code,{children:"GlobalResponseHandler"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Annotate it with ",(0,i.jsx)(n.code,{children:"@RestControllerAdvice"})," to apply globally."]}),"\n",(0,i.jsxs)(n.li,{children:["Implement the ",(0,i.jsx)(n.code,{children:"ResponseBodyAdvice<Object>"})," interface instead of extending any class."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"@RestControllerAdvice\npublic class GlobalResponseHandler implements ResponseBodyAdvice<Object> {\n    // Methods will go here\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"override-required-methods",children:"Override Required Methods"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"supports()"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This method determines which responses should be intercepted."}),"\n",(0,i.jsx)(n.li,{children:"Return true to apply it globally to all controller methods."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"@Override\npublic boolean supports(MethodParameter returnType, Class<? extends HttpMessageConverter<?>> converterType) {\n    return true;\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"beforeBodyWrite()"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This method allows you to modify the response body before it is sent to the client."}),"\n",(0,i.jsxs)(n.li,{children:["Wrap the response inside a custom ",(0,i.jsx)(n.code,{children:"ApiResponse<T>"})," class."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"@Override\npublic Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType,\n                              Class<? extends HttpMessageConverter<?>> selectedConverterType,\n                              ServerHttpRequest request, ServerHttpResponse response) {\n    if (body instanceof ApiResponse) {\n        return body; // Already wrapped\n    }\n    return new ApiResponse<>(body);\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"define-the-apiresponset-class",children:["Define the ",(0,i.jsx)(n.code,{children:"ApiResponse<T>"})," Class"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A generic class that can hold:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"data"}),": for successful responses"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"error"}),": for error details (optional)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"timestamp"}),": for response time"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class ApiResponse<T> {\n    private T data;\n    private ApiError error;\n    private LocalDateTime timestamp;\n\n    // Default constructor\n    public ApiResponse() {\n        this.timestamp = LocalDateTime.now();\n    }\n\n    // Constructor for success\n    public ApiResponse(T data) {\n        this();\n        this.data = data;\n    }\n\n    // Constructor for error\n    public ApiResponse(ApiError error) {\n        this();\n        this.error = error;\n    }\n\n    // Getters (or use Lombok @Getter)\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"result-of-implementation",children:"Result of Implementation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Every API response will now return a consistent structure:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2025-06-18T07:30:00",\n  "data": {\n    "id": 1,\n    "name": "John Doe"\n  },\n  "error": null\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"in-case-of-an-error",children:"In case of an error:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2025-06-18T07:30:00",\n  "data": null,\n  "error": {\n    "code": "USER_NOT_FOUND",\n    "message": "User with ID 10 not found"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"benefits",children:"Benefits:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Frontend developers know exactly where to look for data, error, and timestamp."}),"\n",(0,i.jsx)(n.li,{children:"Ensures a uniform structure across all APIs."}),"\n",(0,i.jsx)(n.li,{children:"Easy to extend in the future for metadata, pagination, etc."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"code",children:"code"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"\u251c\u2500\u2500 SpringBootWebApplication.java\n\u251c\u2500\u2500 advices\n\u2502\xa0\xa0 \u251c\u2500\u2500 ApiError.java\n\u2502\xa0\xa0 \u251c\u2500\u2500 ApiResponse.java\n\u2502\xa0\xa0 \u251c\u2500\u2500 GlobalExceptionHandler.java\n\u2502\xa0\xa0 \u2514\u2500\u2500 GlobalResponseHandler.java\n\u251c\u2500\u2500 annotations\n\u2502\xa0\xa0 \u251c\u2500\u2500 EmployeeRoleValidation.java\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeRoleValidator.java\n\u251c\u2500\u2500 configs\n\u2502\xa0\xa0 \u2514\u2500\u2500 MapperConfig.java\n\u251c\u2500\u2500 controllers\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeController.java\n\u251c\u2500\u2500 dto\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeDTO.java\n\u251c\u2500\u2500 entities\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeEntity.java\n\u251c\u2500\u2500 exceptions\n\u2502\xa0\xa0 \u2514\u2500\u2500 ResourceNotFoundException.java\n\u251c\u2500\u2500 repositories\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeRepository.java\n\u251c\u2500\u2500 services\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeService.java\n\u2514\u2500\u2500 utils\n\n\npackage com.example.springBootWeb.springBootWeb.advices;\n\nimport org.springframework.core.MethodParameter;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.server.ServerHttpRequest;\nimport org.springframework.http.server.ServerHttpResponse;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseBodyAdvice;\n\n@RestControllerAdvice\npublic class GlobalResponseHandler implements ResponseBodyAdvice<Object> {\n    @Override\n    public boolean supports(MethodParameter returnType, Class<? extends HttpMessageConverter<?>> converterType) {\n        return true;\n    }\n\n    @Override\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class<? extends HttpMessageConverter<?>> selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        if(body instanceof ApiResponse<?>){\n            return body;\n        }\n        return new ApiResponse<>(body);\n    }\n}\n\n\npackage com.example.springBootWeb.springBootWeb.advices;\n\n\nimport lombok.Data;\n\nimport java.time.LocalDateTime;\n\n@Data\npublic class ApiResponse<T> {\n    private LocalDateTime timeStamp;\n    private T data;\n    private ApiError error;\n\n    public ApiResponse() {\n        this.timeStamp = LocalDateTime.now();\n    }\n\n    public ApiResponse(T data) {\n        this();\n        this.data = data;\n    }\n\n    public ApiResponse(ApiError error){\n        this();\n        this.error = error;\n    }\n}\n\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"enhancing-error-handling-using-global-exception-handler-in-spring-boot",children:"Enhancing Error Handling Using Global Exception Handler in Spring Boot"}),"\n",(0,i.jsx)(n.h3,{id:"current-approach",children:"Current Approach:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Errors are currently returned as a ",(0,i.jsx)(n.code,{children:"ResponseEntity<APIError>"}),", which is not ideal or clean for a production-grade application."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"improvement-suggestion",children:"Improvement Suggestion:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Instead of directly returning ",(0,i.jsx)(n.code,{children:"APIError"}),", we should wrap it inside a custom ",(0,i.jsx)(n.code,{children:"APIResponse"})," object."]}),"\n",(0,i.jsx)(n.li,{children:"This way, all responses\u2014success or error\u2014can follow a consistent structure."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"implementation-steps",children:"Implementation Steps:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a helper method called ",(0,i.jsx)(n.code,{children:"buildErrorResponseEntity(APIError error)"})," in your global exception handler."]}),"\n",(0,i.jsxs)(n.li,{children:["This method should return ",(0,i.jsx)(n.code,{children:"ResponseEntity<APIResponse<?>>"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"inside-the-method",children:"Inside the Method:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public ResponseEntity<APIResponse<?>> buildErrorResponseEntity(APIError error) {\n    return new ResponseEntity<>(new APIResponse<>(error), error.getStatus());\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Here, ",(0,i.jsx)(n.code,{children:"APIResponse"})," wraps the ",(0,i.jsx)(n.code,{children:"APIError"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Status code is extracted from the error object using ",(0,i.jsx)(n.code,{children:"error.getStatus()"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"handling-generic-type-warning",children:"Handling Generic Type Warning:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"To resolve warnings related to raw types in generics, use wildcards"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"ResponseEntity<APIResponse<?>> response = ...\n"})}),"\n",(0,i.jsx)(n.h3,{id:"refactor-existing-code",children:"Refactor Existing Code:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Replace all direct error responses with:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"return buildErrorResponseEntity(apiError);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"code-organization",children:"Code Organization:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Keep internal/helper methods like ",(0,i.jsx)(n.code,{children:"buildErrorResponseEntity()"})," at the bottom of the class."]}),"\n",(0,i.jsx)(n.li,{children:"Keep external/public methods at the top for better code readability."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"benefits-of-the-new-structure",children:"Benefits of the New Structure"}),"\n",(0,i.jsx)(n.h3,{id:"consistent-api-responses",children:"Consistent API Responses:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Whether the response contains data or an error, the structure remains uniform:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "...",\n  "data": null,\n  "error": {\n    "message": "...",\n    "status": "BAD_REQUEST"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"testing-the-error-response",children:"Testing the Error Response:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When an error occurs, the ",(0,i.jsx)(n.code,{children:"data"})," is ",(0,i.jsx)(n.code,{children:"null"}),", and the ",(0,i.jsx)(n.code,{children:"error"})," field contains detailed error information including sub-errors and status."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"formatting-timestamp",children:"Formatting Timestamp:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You can customize the timestamp format using Jackson's ",(0,i.jsx)(n.code,{children:"@JsonFormat"})," annotation:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@JsonFormat(pattern = "HH:mm:ss dd-MM-yyyy")\nprivate LocalDateTime timestamp;\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ensure correct pattern usage:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HH"})," = hour"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mm"})," = minute"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ss"})," = second"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dd"})," = day"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MM"})," = month (capital M)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"yyyy"})," = year"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"final-result",children:"Final Result"}),"\n",(0,i.jsx)(n.h3,{id:"professional-output",children:"Professional Output:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Clean and consistent response format."}),"\n",(0,i.jsx)(n.li,{children:"Easily consumable by frontend developers."}),"\n",(0,i.jsx)(n.li,{children:"Production-ready and scalable error handling mechanism."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"frontend-developer-friendly",children:"Frontend Developer-Friendly:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Developers will appreciate this structured format as it makes frontend error handling and UI display much easier."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"final-code",children:"final code"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'package com.example.springBootWeb.springBootWeb.advices;\n\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport jakarta.validation.constraints.Pattern;\nimport lombok.Data;\n\nimport java.time.LocalDateTime;\n\n@Data\npublic class ApiResponse<T> {\n\n    @JsonFormat(pattern = "hh:mm:ss dd-MM-yyyy")\n    private LocalDateTime timeStamp;\n    private T data;\n    private ApiError error;\n\n    public ApiResponse() {\n        this.timeStamp = LocalDateTime.now();\n    }\n\n    public ApiResponse(T data) {\n        this();\n        this.data = data;\n    }\n\n    public ApiResponse(ApiError error){\n        this();\n        this.error = error;\n    }\n}\n\npackage com.example.springBootWeb.springBootWeb.advices;\n\nimport org.springframework.core.MethodParameter;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.server.ServerHttpRequest;\nimport org.springframework.http.server.ServerHttpResponse;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseBodyAdvice;\n\n@RestControllerAdvice\npublic class GlobalResponseHandler implements ResponseBodyAdvice<Object> {\n    @Override\n    public boolean supports(MethodParameter returnType, Class<? extends HttpMessageConverter<?>> converterType) {\n        return true;\n    }\n\n    @Override\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class<? extends HttpMessageConverter<?>> selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        if(body instanceof ApiResponse<?>){\n            return body;\n        }\n        return new ApiResponse<>(body);\n    }\n}\n\n\u251c\u2500\u2500 SpringBootWebApplication.java\n\u251c\u2500\u2500 advices\n\u2502\xa0\xa0 \u251c\u2500\u2500 ApiError.java\n\u2502\xa0\xa0 \u251c\u2500\u2500 ApiResponse.java\n\u2502\xa0\xa0 \u251c\u2500\u2500 GlobalExceptionHandler.java\n\u2502\xa0\xa0 \u2514\u2500\u2500 GlobalResponseHandler.java\n\u251c\u2500\u2500 annotations\n\u2502\xa0\xa0 \u251c\u2500\u2500 EmployeeRoleValidation.java\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeRoleValidator.java\n\u251c\u2500\u2500 configs\n\u2502\xa0\xa0 \u2514\u2500\u2500 MapperConfig.java\n\u251c\u2500\u2500 controllers\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeController.java\n\u251c\u2500\u2500 dto\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeDTO.java\n\u251c\u2500\u2500 entities\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeEntity.java\n\u251c\u2500\u2500 exceptions\n\u2502\xa0\xa0 \u2514\u2500\u2500 ResourceNotFoundException.java\n\u251c\u2500\u2500 repositories\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeRepository.java\n\u251c\u2500\u2500 services\n\u2502\xa0\xa0 \u2514\u2500\u2500 EmployeeService.java\n\u2514\u2500\u2500 utils\n\n'})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);