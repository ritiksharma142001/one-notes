<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-advanced-java/1-100/Week-5/5.2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Apache Kafka Architecture | 1-note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://es-notes.ritik.dev/one-notes/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://es-notes.ritik.dev/one-notes/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://es-notes.ritik.dev/one-notes/advanced-java/1-100/Week-5/5.2/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Apache Kafka Architecture | 1-note"><meta data-rh="true" name="description" content="1"><meta data-rh="true" property="og:description" content="1"><link data-rh="true" rel="icon" href="/one-notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://es-notes.ritik.dev/one-notes/advanced-java/1-100/Week-5/5.2/"><link data-rh="true" rel="alternate" href="https://es-notes.ritik.dev/one-notes/advanced-java/1-100/Week-5/5.2/" hreflang="en"><link data-rh="true" rel="alternate" href="https://es-notes.ritik.dev/one-notes/advanced-java/1-100/Week-5/5.2/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SK5BV5M8DQ-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Advanced Java","item":"https://es-notes.ritik.dev/one-notes/category/advanced-java"},{"@type":"ListItem","position":2,"name":"1-100","item":"https://es-notes.ritik.dev/one-notes/category/1-100"},{"@type":"ListItem","position":3,"name":"Apache Kafka Architecture","item":"https://es-notes.ritik.dev/one-notes/advanced-java/1-100/Week-5/5.2"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="1-note" href="/one-notes/opensearch.xml"><link rel="stylesheet" href="/one-notes/assets/css/styles.95a5b55c.css">
<script src="/one-notes/assets/js/runtime~main.a09adf4a.js" defer="defer"></script>
<script src="/one-notes/assets/js/main.13c91e91.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/one-notes/img/logo2.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/one-notes/"><div class="navbar__logo"><img src="/one-notes/img/logo2.svg" alt="esNot" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/one-notes/img/logo2.svg" alt="esNot" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">esNot</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/one-notes/about/">About Us</a><a class="navbar__item navbar__link" href="/one-notes/contact/">Contact</a><a href="https://github.com/ritiksharma142001/one-notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://eritik.vercel.app/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Portfolio<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/one-notes/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/core-java/">Core Java</a><button aria-label="Expand sidebar category &#x27;Core Java&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/one-notes/category/advanced-java/">Advanced Java</a><button aria-label="Collapse sidebar category &#x27;Advanced Java&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/one-notes/advanced-java/pdf/">PDF</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/one-notes/category/0-1/">0-1</a><button aria-label="Expand sidebar category &#x27;0-1&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/one-notes/category/1-100/">1-100</a><button aria-label="Collapse sidebar category &#x27;1-100&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-1/1.1/">Aspect-Oriented Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-2/1.1/">Vaching &amp; Concurrent Transaction Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-3/1.1/">Introduction to Microservice Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-4/1.1/">Advanced Microservice Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.1/">Apache Kafka in Spring Boot</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.1/">Introduction to Kafka</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.2/">Apache Kafka Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.3/">Installing Kafka</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.4/">Configuring  Kafka with Spring Boot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.5/">Advanced Kafka Configuration  with Spring Boot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.6/">Kafka Schema Registry with Confluent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/one-notes/advanced-java/1-100/Week-5/5.7/">Homework for Apache Kafka</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-6/6.1/">Docker with Spring Boot</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-7/1.1/">Kubernetes Components</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-8/1.1/">Kubernetes Advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/one-notes/advanced-java/1-100/Week-9/1.1/">Async &amp; Blocking Task Scheduling in Spring Boot</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/react/">React</a><button aria-label="Expand sidebar category &#x27;React&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/html/">HTML</a><button aria-label="Expand sidebar category &#x27;HTML&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/css/">CSS</a><button aria-label="Expand sidebar category &#x27;CSS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/tailwind/">Tailwind</a><button aria-label="Expand sidebar category &#x27;Tailwind&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/node/">Node</a><button aria-label="Expand sidebar category &#x27;Node&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/shell/">Shell</a><button aria-label="Expand sidebar category &#x27;Shell&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/mongodb/">MongoDB</a><button aria-label="Expand sidebar category &#x27;MongoDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/system-design/">System Design</a><button aria-label="Expand sidebar category &#x27;System Design&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/git--github/">Git &amp; GitHub</a><button aria-label="Expand sidebar category &#x27;Git &amp; GitHub&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/mysql/">MySQL</a><button aria-label="Expand sidebar category &#x27;MySQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/cs-subjects/">CS Subjects</a><button aria-label="Expand sidebar category &#x27;CS Subjects&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/postgres/">Postgres</a><button aria-label="Expand sidebar category &#x27;Postgres&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/shortcut/">Shortcut</a><button aria-label="Expand sidebar category &#x27;Shortcut&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/shortcut-1/">Shortcut</a><button aria-label="Expand sidebar category &#x27;Shortcut&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/interview/">Interview</a><button aria-label="Expand sidebar category &#x27;Interview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/one-notes/Links/contents/">Link</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/questions/">Questions</a><button aria-label="Expand sidebar category &#x27;Questions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/one-notes/category/recent/">Recent</a><button aria-label="Expand sidebar category &#x27;Recent&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/one-notes/Extra/contents/">Extra</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/one-notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/one-notes/category/advanced-java/"><span>Advanced Java</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/one-notes/category/1-100/"><span>1-100</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Apache Kafka in Spring Boot</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Apache Kafka Architecture</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Apache Kafka Architecture</h1></header>
<p><img decoding="async" loading="lazy" alt="1" src="/one-notes/assets/images/1-2f3e66c7737f06eab220156876cf23a3.png" width="724" height="242" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interview-questions">Interview Questions<a href="#interview-questions" class="hash-link" aria-label="Direct link to Interview Questions" title="Direct link to Interview Questions">​</a></h2>
<ol>
<li>How does the Partitioning of Topics take place?</li>
<li>How does Kafka ensure message ordering?</li>
<li>Can the consumers read the same message again and again?</li>
<li>What happens when new Consumers are added to the system?</li>
<li>What happens when some brokers go down?</li>
<li>Can consumer read the messages after a few days they are produced?</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partitioning-logic">Partitioning Logic<a href="#partitioning-logic" class="hash-link" aria-label="Direct link to Partitioning Logic" title="Direct link to Partitioning Logic">​</a></h2>
<ul>
<li>Kafka splits data into partitions to improve scalability and parallelism. Each topic in Kafka has one or more partitions.</li>
<li>A producer is a client that sends data (messages/records) to a Kafka topic.</li>
<li>When a producer sends a message, it can optionally include a <strong>partition key</strong> (e.g., user ID, device ID).<!-- -->
<ul>
<li>Kafka uses this key to decide which partition to send the message to.</li>
<li>All messages with the same key go to the same partition.</li>
</ul>
</li>
<li>Example: If you use <strong>user123</strong> as the key, all messages for <strong>user123</strong> will always go to the same partition, and consumers will get them in the correct order.</li>
</ul>
<p><strong>What happens if no partition key is used?</strong></p>
<ul>
<li>Kafka automatically distributes the messages across partitions using round-robin (takes turns).</li>
<li>This means: Message 1 → Partition A, Message 2 → Partition B, Message 3 → Partition C, and so on.</li>
<li>But: Because there&#x27;s no fixed key, messages from the same source may end up in different partitions, so the order of messages is not guaranteed.</li>
</ul>
<table><thead><tr><th>With Partition Key</th><th>Without Partition Key</th></tr></thead><tbody><tr><td>Same key → same partition</td><td>Round-robin distribution</td></tr><tr><td>Order is preserved</td><td>Order <strong>not guaranteed</strong></td></tr><tr><td>Useful for user/device-specific data</td><td>Good for load balancing</td></tr></tbody></table>
<p><img decoding="async" loading="lazy" alt="partition key" src="/one-notes/assets/images/2-306bc98bb8b5ae4987c45dd1a37a17f4.png" width="722" height="187" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Understanding" src="/one-notes/assets/images/9-5c107ac8ee324d438692305f5dc761cf.png" width="1692" height="779" class="img_ev3q"></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Users:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">U101 - Login, ClickAd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">U102 - Login, AddToCart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">U103 - Search, Logout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">U104 - ViewProduct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">U105 - AddToCart, BuyNow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">U106 - ClickAd, Logout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--&gt; Producer sends to Kafka with key=userId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Topics &amp; Partitions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t0: P0, P1, P2       ← U101, U102, U103</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t1: P0, P1           ← U104, U105, U106</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer Group-A (t0):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- C1 reads P0, P1 → gets U103, U101</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- C2 reads P2     → gets U102</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer Group-B (t1):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- C3 reads P0     → gets U105</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- C4 reads P1     → gets U104, U106</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- C5 unassigned   → idle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partition-assignment-logic">Partition Assignment Logic<a href="#partition-assignment-logic" class="hash-link" aria-label="Direct link to Partition Assignment Logic" title="Direct link to Partition Assignment Logic">​</a></h2>
<p>In Kafka, partition assignment is based on the <strong>message key</strong> (e.g., <code>userId</code>) and a <strong>hashing function</strong>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">partition = hash(key) % number_of_partitions</span><br></span></code></pre></div></div>
<p>So, if two different user IDs result in the same hash modulo, they’ll be assigned to the <strong>same partition</strong>.</p>
<hr>
<p><strong>Example: 3 Partitions in Topic <code>t0</code></strong></p>
<p>Users
U101, U102, U103, U104, U105, U106</p>
<p><strong>Kafka Applies Hash Like:</strong></p>
<table><thead><tr><th>User ID</th><th>Hash (simplified)</th><th><code>hash % 3</code></th><th>Assigned Partition</th></tr></thead><tbody><tr><td>U101</td><td>101</td><td>101 % 3 = 2</td><td>P2</td></tr><tr><td>U102</td><td>102</td><td>102 % 3 = 0</td><td>P0</td></tr><tr><td>U103</td><td>103</td><td>103 % 3 = 1</td><td>P1</td></tr><tr><td>U104</td><td>104</td><td>104 % 3 = 2</td><td>P2</td></tr><tr><td>U105</td><td>105</td><td>105 % 3 = 0</td><td>P0</td></tr><tr><td>U106</td><td>106</td><td>106 % 3 = 1</td><td>P1</td></tr></tbody></table>
<p><strong>Result:</strong></p>
<table><thead><tr><th>Partition</th><th>Assigned Users</th></tr></thead><tbody><tr><td>P0</td><td>U102, U105</td></tr><tr><td>P1</td><td>U103, U106</td></tr><tr><td>P2</td><td>U101, U104</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-multiple-users-can-go-to-the-same-partition">Why Multiple Users Can Go to the Same Partition<a href="#why-multiple-users-can-go-to-the-same-partition" class="hash-link" aria-label="Direct link to Why Multiple Users Can Go to the Same Partition" title="Direct link to Why Multiple Users Can Go to the Same Partition">​</a></h2>
<p>Kafka&#x27;s partition assignment is <strong>deterministic</strong> but <strong>not unique per user</strong>. If multiple keys (users) happen to map to the same partition via the hash function, they will <strong>share that partition</strong>.</p>
<p>Kafka does <strong>not guarantee one partition per user</strong>.</p>
<p><strong>Key Points to Remember</strong></p>
<table><thead><tr><th>Concept</th><th>Explanation</th></tr></thead><tbody><tr><td><code>key</code></td><td>Message key (e.g., <code>userId</code>) is used for consistent routing</td></tr><tr><td><code>hash(key) % N</code></td><td><code>N</code> is the number of partitions; this determines partition assignment</td></tr><tr><td>Same partition</td><td>Multiple keys can land in the same partition if their <code>hash % N</code> is equal</td></tr><tr><td>Consumer assignment</td><td>Kafka assigns each partition to <strong>only one consumer per consumer group</strong></td></tr><tr><td>Order guarantee</td><td>Kafka guarantees order <strong>only within a partition</strong>, not across partitions</td></tr></tbody></table>
<p><strong>Real World Usage</strong></p>
<p>This behavior is often <strong>intentional</strong>:</p>
<ul>
<li>If you want <strong>user-related events</strong> to stay together, you use the same <strong>message key</strong> (<code>userId</code>)</li>
<li>Kafka is fine with <strong>multiple users falling into the same partition</strong></li>
<li>What matters is that <strong>message order per user is preserved</strong> if they’re consistently routed</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reading-records-from-partitions">Reading records from Partitions<a href="#reading-records-from-partitions" class="hash-link" aria-label="Direct link to Reading records from Partitions" title="Direct link to Reading records from Partitions">​</a></h2>
<ul>
<li>Unlike the other pub/sub implementations, Kafka doesn&#x27;t push messages to consumers. Instead, consumers have to pull messages off Kafka topic partitions. A consumer connects to a partition in a broker, reads the messages in the order in which they were written.</li>
<li>By remembering the offset of the last consumed message for each partition, a consumer can join a partition at the point in time they choose and resume from there. That is particularly useful for a consumer to resume reading after recovering from a crash.<!-- -->
<ul>
<li>Imagine you&#x27;re reading a book (Kafka topic) with chapters (partitions). Each page (message) has a number (offset).</li>
<li>If you close the book at page 42 (offset 42), when you come back, you want to resume from page 43 — not from the beginning.</li>
</ul>
</li>
<li>But this may create a problem where multiple consumers instances of the same type read the record of a Kafka topic. To avoid this, Kafka has a concept called Consumer Groups.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/one-notes/assets/images/10-c11f18327cde6703e7a4b119acec9795.png" width="1664" height="671" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="consumer-groups">Consumer Groups<a href="#consumer-groups" class="hash-link" aria-label="Direct link to Consumer Groups" title="Direct link to Consumer Groups">​</a></h2>
<p><img decoding="async" loading="lazy" src="/one-notes/assets/images/11-39fd6418e0f6188149ffc5ca565369bc.png" width="1238" height="606" class="img_ev3q"></p>
<ul>
<li>A Consumer Group is a collection of Kafka consumers working together to read data from a topic. Kafka ensures:<!-- -->
<ul>
<li>Each partition of a topic is read by only one consumer in the group.</li>
<li>But multiple consumers can read from different partitions in parallel.</li>
</ul>
</li>
<li>One partition is assigned to only one consumer in a group.<!-- -->
<ul>
<li>This avoids duplication: no two consumers in the same group will read the same message.</li>
</ul>
</li>
<li>Kafka does not increase parallelism just because you add more consumers.<!-- -->
<ul>
<li>If a topic has 3 partitions, maximum 3 consumers in a group can read in parallel.</li>
<li>If you add more consumers (say 5), 2 of them will sit idle, because only 3 partitions are available.</li>
</ul>
</li>
<li>Think of partitions as machines, and consumers as workers.<!-- -->
<ul>
<li>If there are 3 machines and 5 workers, only 3 workers can operate.</li>
<li>The other 2 workers have nothing to do unless a machine is added.</li>
</ul>
</li>
</ul>
<table><thead><tr><th>Consumer Group: CG1</th><th>Partitions</th><th>Status</th></tr></thead><tbody><tr><td>C1</td><td>P0</td><td>Active</td></tr><tr><td>C2</td><td>P1</td><td>Active</td></tr><tr><td>C3</td><td>P2</td><td>Active</td></tr><tr><td>C4</td><td>-</td><td><strong>Idle</strong></td></tr><tr><td>C5</td><td>-</td><td><strong>Idle</strong></td></tr></tbody></table>
<p><a href="https://softwaremill.com/kafka-visualisation/" target="_blank" rel="noopener noreferrer">Kafka Visualization Tools</a></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rebalancing">Rebalancing<a href="#rebalancing" class="hash-link" aria-label="Direct link to Rebalancing" title="Direct link to Rebalancing">​</a></h2>
<ul>
<li>Rebalancing is the process of reassigning partitions to consumers within a consumer group, ensuring that the workload is evenly distributed.</li>
<li>Rebalancing is triggered when:</li>
</ul>
<table><thead><tr><th>Scenario</th><th>What Happens</th></tr></thead><tbody><tr><td>A new consumer joins</td><td>Kafka redistributes partitions to include the new consumer</td></tr><tr><td>A consumer leaves or crashes</td><td>Kafka reassigns that consumer&#x27;s partitions to remaining consumers</td></tr><tr><td>New partitions are added</td><td>Kafka balances the increased partitions among all active consumers</td></tr><tr><td>A consumer is declared dead</td><td>The coordinator reassigns its partitions to others</td></tr></tbody></table>
<ul>
<li>The first consumer to join a consumer group is called the Group Leader.</li>
<li>The Group Leader helps the Kafka Group Coordinator decide which consumer should get which partition during rebalancing.</li>
</ul>
<p><strong>Example</strong></p>
<p><strong>Topic:</strong> t0 with 3 partitions: P0, P1, P2<br>
<strong>Initial consumers in group:</strong> C1, C2</p>
<p><strong>efore Rebalancing</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C1 → P0, P1  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C2 → P2</span><br></span></code></pre></div></div>
<p>Now, C3 joins the group. A rebalance happens.
After Rebalancing</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C1 → P0  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C2 → P1  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C3 → P2</span><br></span></code></pre></div></div>
<p>Now each consumer has one partition, so the load is evenly distributed.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partition-replication">Partition Replication<a href="#partition-replication" class="hash-link" aria-label="Direct link to Partition Replication" title="Direct link to Partition Replication">​</a></h2>
<p><img decoding="async" loading="lazy" src="/one-notes/assets/images/12-58c2ba80b5f955ab19527769742371b9.png" width="742" height="405" class="img_ev3q"></p>
<ul>
<li>Replication in Kafka means creating copies of a partition and storing them on multiple brokers. This ensures fault tolerance and high availability of data.</li>
<li>For each partition:<!-- -->
<ul>
<li>One replica is elected as the leader.</li>
<li>The remaining replicas are followers.</li>
</ul>
</li>
<li>All read and write requests for that partition go through the leader. Followers replicate the leader&#x27;s data and stay in sync.</li>
<li>If the leader broker fails, one of the followers is automatically promoted to become the new leader, ensuring no data loss and continued availability.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="partition-management">Partition Management<a href="#partition-management" class="hash-link" aria-label="Direct link to Partition Management" title="Direct link to Partition Management">​</a></h2>
<ul>
<li>
<p><img decoding="async" loading="lazy" alt="gf" src="/one-notes/assets/images/13-9e46ad9639ed658caa6678c9ad1d94f6.png" width="604" height="279" class="img_ev3q"></p>
</li>
<li>
<p>Kafka Brokers, Replication, and KRaft Mode</p>
</li>
<li>
<p>In a Kafka cluster:</p>
<ul>
<li>Partitions are replicated across multiple brokers for fault tolerance.</li>
<li>Each partition has one leader broker, and the others hold follower replicas.</li>
<li>All client interactions (reads/writes) go through the leader of each partition.</li>
</ul>
</li>
<li>
<p>To coordinate this setup, Kafka needs a way to manage metadata and broker state.</p>
</li>
<li>
<p>Transition from ZooKeeper to KRaft</p>
<ul>
<li>Historically, Kafka used ZooKeeper for:<!-- -->
<ul>
<li>Tracking brokers, topics, and partitions.</li>
<li>Managing leader election and metadata.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>However, Kafka is moving towards a ZooKeeper-free architecture with the introduction of the KRaft (Kafka Raft) mode, which:</p>
<ul>
<li>Uses the Raft consensus protocol.</li>
<li>Allows Kafka brokers to coordinate directly with each other.</li>
<li>Elects a controller leader among brokers.</li>
<li>Replicates metadata logs across all brokers.</li>
<li>Increases reliability, simplifies operations, and improves performance.
KRaft mode effectively eliminates the need for ZooKeeper, making Kafka more self-contained and cloud-native.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-log-retention">Kafka Log Retention<a href="#kafka-log-retention" class="hash-link" aria-label="Direct link to Kafka Log Retention" title="Direct link to Kafka Log Retention">​</a></h2>
<ul>
<li>Kafka&#x27;s log retention controls how long messages are kept in a topic. Messages are
stored on disk, and Kafka can retain them based on time (retention.ms) or size
(retention.bytes), whichever comes first. Once the retention limit is reached, old
messages are deleted in the background. Kafka can also be configured to retain
messages indefinitely (retention.ms=-1), but this could lead to high storage costs if
not managed carefully.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="acks-and-retries">Acks and Retries<a href="#acks-and-retries" class="hash-link" aria-label="Direct link to Acks and Retries" title="Direct link to Acks and Retries">​</a></h2>
<p><strong>Kafka Producer Acknowledgments (acks)</strong></p>
<p>The <code>acks</code> configuration determines the number of acknowledgments the producer requires from the broker before considering a request complete. It has three possible settings: <code>0</code>, <code>1</code>, and <code>all (-1)</code>.</p>
<p><strong>Possible Values:</strong></p>
<ol>
<li><code>acks = 0</code></li>
</ol>
<ul>
<li>The producer does <strong>not</strong> wait for any acknowledgment from the broker.</li>
<li><strong>Fastest</strong> option, but provides <strong>no guarantee</strong> that the message has been received or written to the broker.</li>
</ul>
<ol start="2">
<li><code>acks = 1</code></li>
</ol>
<ul>
<li>The producer will receive an acknowledgment as soon as the <strong>leader broker</strong> has received the message.</li>
<li>Provides <strong>some assurance</strong> that the message is stored on the leader broker.</li>
</ul>
<ol start="3">
<li><code>acks = all (-1)</code></li>
</ol>
<ul>
<li>The producer will wait for acknowledgments from <strong>all in-sync replicas (ISRs)</strong> before considering the message sent.</li>
<li>Ensures <strong>maximum durability</strong> and <strong>stronger data consistency</strong> as all replicas need to confirm the message.</li>
</ul>
<ol start="4">
<li>Kafka Producer Retries</li>
</ol>
<p>The <code>retries</code> configuration determines the number of times the producer will <strong>retry</strong> sending a message if a send request fails (e.g., due to a temporary network issue or a broker being down).</p>
<p><strong>Key Points:</strong></p>
<ul>
<li><strong>Automatic Retries</strong>: If a message fails to send, the producer will automatically attempt to resend it up to the number specified by the <code>retries</code> configuration.</li>
<li><strong>Transient Issues</strong>: This is useful for ensuring that <strong>transient issues</strong> do not result in message loss, as the producer can retry until the message is successfully acknowledged.</li>
<li><strong>Combining with <code>acks=all</code></strong>: When used with <code>acks=all</code>, the producer can retry sending messages that have not been acknowledged by <strong>all in-sync replicas (ISRs)</strong>.<!-- -->
<ul>
<li>This ensures that even if there are issues with one broker, the message can still be sent to the <strong>other available brokers</strong>, preserving durability and availability.</li>
</ul>
</li>
</ul>
<hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ritiksharma142001/one-notes/edit/main/docs/advanced-java/1-100/Week-5/5.2.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/one-notes/advanced-java/1-100/Week-5/5.1/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction to Kafka</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/one-notes/advanced-java/1-100/Week-5/5.3/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installing Kafka</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#interview-questions" class="table-of-contents__link toc-highlight">Interview Questions</a></li><li><a href="#partitioning-logic" class="table-of-contents__link toc-highlight">Partitioning Logic</a></li><li><a href="#partition-assignment-logic" class="table-of-contents__link toc-highlight">Partition Assignment Logic</a></li><li><a href="#why-multiple-users-can-go-to-the-same-partition" class="table-of-contents__link toc-highlight">Why Multiple Users Can Go to the Same Partition</a></li><li><a href="#reading-records-from-partitions" class="table-of-contents__link toc-highlight">Reading records from Partitions</a></li><li><a href="#consumer-groups" class="table-of-contents__link toc-highlight">Consumer Groups</a></li><li><a href="#rebalancing" class="table-of-contents__link toc-highlight">Rebalancing</a></li><li><a href="#partition-replication" class="table-of-contents__link toc-highlight">Partition Replication</a></li><li><a href="#partition-management" class="table-of-contents__link toc-highlight">Partition Management</a></li><li><a href="#kafka-log-retention" class="table-of-contents__link toc-highlight">Kafka Log Retention</a></li><li><a href="#acks-and-retries" class="table-of-contents__link toc-highlight">Acks and Retries</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ritiksharma142001.github.io/one-notes/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="#" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="#" class="footer__link-item">X</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://eritik.vercel.app/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio</a></li><li class="footer__item"><a href="https://github.com/ritiksharma142001/one-notes" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 - 2025 Made by Ritik Sharma.</div></div></div></footer></div>
</body>
</html>